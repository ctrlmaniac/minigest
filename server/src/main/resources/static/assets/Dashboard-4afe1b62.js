import{N as v,V as f,j as i,a as c,B as m,a3 as N,a4 as D,R as C,F as B}from"./index-7862eb00.js";import{a as p,u as E}from"./hooks-d3ca2a4c.js";import{L as I}from"./List-1ac29d19.js";import{L as T,a as S}from"./ListItemText-405a6f78.js";import{P as x}from"./Paper-7dd8998f.js";import{T as d}from"./Typography-a27d4a59.js";import{A as g,I as F}from"./Alert-5fa013c6.js";import{E as k,a as w}from"./index-30e337fd.js";import{T as A,a as y,b as o,c as L}from"./TableRow-ee613352.js";import{T as $}from"./TableHead-a97793ca.js";import{I as z}from"./IconFile-e16c7ffb.js";import{B as b}from"./Button-dde57f38.js";import{l as j}from"./list-9fc3b2b8.js";import{G as u}from"./Grid-242ecbb1.js";import"./ButtonBase-52577508.js";import"./listItemTextClasses-66e1b50f.js";import"./createSvgIcon-8230f01b.js";import"./createReactComponent-ec120697.js";import"./useTheme-eae15486.js";const R=()=>{var s;const a=v(),{dettagli:t}=p(n=>n.account),{selected:r}=p(n=>n.aziende);let e=i(d,{children:"Caricamento in corso..."});return f.isEmpty(t==null?void 0:t.aziende)?e=i(d,{children:"Devi crearti un'azienda!"}):e=i(I,{children:(s=t==null?void 0:t.aziende)==null?void 0:s.map(n=>i(T,{selected:(r==null?void 0:r.id)===n.id,onClick:()=>a(`/app/aziende/dettagli/${n.id}`),children:n.denominazione},n.id))}),i(x,{children:c(m,{p:2,children:[i(d,{gutterBottom:!0,children:"Le tue aziende:"}),e]})})},W=()=>{const{listByAzienda:a,selected:t}=p(e=>e.negozi);let r=i(d,{children:"Caricamento in corso..."});return f.isEmpty(a)?r=i(g,{severity:"warning",children:"Non hai negozi, creane uno!"}):r=i(I,{children:a==null?void 0:a.map(e=>i(T,{selected:(t==null?void 0:t.id)===e.id,children:i(S,{primary:e.nome})},e.id))}),i(x,{children:c(m,{p:2,children:[i(d,{gutterBottom:!0,children:"I tuoi negozi:"}),r]})})};function U(a){return async t=>{let r=`${k.CHIUSURE_FISCALI}/last7?negozio=${a}`;w.get(r).then(e=>{t(N(e.data))}).catch(e=>{t(D(e.message))})}}const G=()=>{const a=E(),t=v(),{selected:r}=p(l=>l.negozi),{list:e,listError:s,listing:n}=p(l=>l.chiusureFiscali);C.useEffect(()=>{r&&a(U(r.id))},[r]);let h=i(d,{children:"Caricamento in corso..."});return s&&(h=i(g,{severity:"error",children:s})),f.isEmpty(e)?h=i(g,{severity:"info",children:"Non ci sono chiusure, aggiungine una!"}):h=c(A,{children:[i($,{children:c(y,{children:[i(o,{children:"Data"}),i(o,{children:"Totale"}),i(o,{children:"N.D.F."}),i(o,{sx:{width:50},align:"center",children:i(z,{})})]})}),i(L,{children:e==null?void 0:e.map(l=>c(y,{children:[i(o,{children:l.data}),c(o,{children:["€ ",l.totale]}),i(o,{children:l.numeroDocFisc}),i(o,{children:i(F,{color:"info",onClick:()=>t(`/app/docfisc/chiusure-fiscali/dettagli/${l.id}`),children:i(z,{})})})]},l.id))})]}),i(B,{children:i(x,{children:c(m,{p:2,children:[i(d,{variant:"h6",gutterBottom:!0,children:"Ultime Chiusure Fiscali"}),h,i(m,{mt:2,sx:{textAlign:"right"},children:i(b,{onClick:()=>t("/app/docfisc/chiusure-fiscali"),children:"vai alla lista"})})]})})})},H=()=>{const a=E(),t=v(),{listError:r,list:e}=p(n=>n.scadenzario);C.useEffect(()=>{a(j())},[]);let s=i(d,{children:"caricamento..."});return r&&(s=i(g,{severity:"error",children:r})),f.isEmpty(e)?s=i(g,{severity:"info",children:"Non ci sono scadenze da pagare!"}):s=i(A,{children:i(L,{children:e==null?void 0:e.map(n=>c(y,{children:[i(o,{sx:{width:50},align:"center",children:i(F,{color:"info",onClick:()=>{var h;return t(`/app/docfisc/fatture/dettagli/${(h=n.fattura)==null?void 0:h.id}`)},children:i(z,{})})}),i(o,{children:n.data}),c(o,{align:"right",children:[n.importo," €"]})]},n.id))})}),i(x,{children:c(m,{p:2,children:[i(d,{variant:"h6",gutterBottom:!0,children:"Scadenze da pagare"}),s,i(m,{mt:2,sx:{textAlign:"right"},children:i(b,{onClick:()=>t("/app/scadenzario"),children:"vai alla lista"})})]})})},ci=()=>i(B,{children:c(u,{container:!0,direction:"row",justifyContent:"space-around",alignItems:"center",spacing:2,children:[i(u,{item:!0,xs:12,sm:6,children:i(R,{})}),i(u,{item:!0,xs:12,sm:6,children:i(W,{})}),i(u,{item:!0,xs:12,children:i(G,{})}),i(u,{item:!0,xs:12,children:i(H,{})})]})});export{ci as default};
