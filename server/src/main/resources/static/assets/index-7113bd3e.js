import{ai as j,aj as R,R as h,V as s,a as g,F as O,j as e,B as l,ac as B,Z as M}from"./index-7862eb00.js";import{E as N}from"./ErrorScreen-eca8d1bc.js";import{g as $}from"./get-aba68ee2.js";import{u as q,a as k}from"./hooks-d3ca2a4c.js";import{S as w}from"./SaveFab-d7db3c27.js";import{a as Z,E as L}from"./index-30e337fd.js";import{T as P}from"./Typography-a27d4a59.js";import{P as C}from"./Paper-7dd8998f.js";import{T as n}from"./TextField-1bd45967.js";import"./Container-ae15322d.js";import"./Alert-5fa013c6.js";import"./createSvgIcon-8230f01b.js";import"./ButtonBase-52577508.js";import"./Fab-7f11b1aa.js";import"./createReactComponent-ec120697.js";import"./Grow-c742a7e6.js";import"./useTheme-eae15486.js";import"./utils-682c87a5.js";import"./Modal-d6c190e6.js";import"./List-1ac29d19.js";function G(a,c){return async i=>{Z.put(`${L.AZIENDE}/${a}`,c).then(o=>{j(),window.location.href="/app/aziende/dettagli/"+o.data.id}).catch(o=>{i(R(o.message))})}}const H=({dettagli:a})=>{var v,F,E,b,I,A,V,y,S,W;const c=q(),[i,o]=h.useState({...a}),[r,f]=h.useState({denominazione:s.isEmpty(a.denominazione),codiceFiscale:s.isEmpty(a.codiceFiscale),idFiscaleIVAPaese:s.isEmpty(a.idFiscaleIVAPaese),idFiscaleIVACodice:s.isEmpty(a.idFiscaleIVACodice),sede_indirizzo:s.isEmpty((v=a.sede)==null?void 0:v.indirizzo),sede_cap:s.isEmpty((F=a.sede)==null?void 0:F.cap),sede_comune:s.isEmpty((E=a.sede)==null?void 0:E.comune),sede_nazione:s.isEmpty((b=a.sede)==null?void 0:b.nazione)}),t=m=>{const{value:u,name:p,required:z}=m.target;o({...i,[p]:u}),z&&f({...r,[p]:u.length<1})},d=m=>{const{value:u,name:p,required:z}=m.target;if(o({...i,sede:{...i.sede,[p]:u}}),z){const T=`sede_${p}`;f({...r,[T]:u.length<1})}},[_,x]=h.useState(!0);h.useEffect(()=>{x(!Object.values(r).every(m=>m===!1))},[r]);const D=()=>{c(G(a.id,i))};return g(O,{children:[e(l,{mb:3,children:e(P,{variant:"h3",children:"Modifica Azienda"})}),e(l,{mb:3,children:e(C,{children:g(l,{p:2,children:[e(n,{label:"Titolo",name:"titolo",value:i.titolo,onChange:t,fullWidth:!0,margin:"normal"}),e(n,{label:"Denominazione, nome o cognome",name:"denominazione",value:i.denominazione,onChange:t,fullWidth:!0,margin:"normal",required:!0,error:r.denominazione})]})})}),e(l,{mb:3,children:e(C,{children:g(l,{p:2,children:[e(n,{label:"Codice EORI",name:"codiceEORI",value:i.codiceEORI,onChange:t,fullWidth:!0,margin:"normal"}),e(n,{label:"Codice Fiscale",name:"codiceFiscale",value:i.codiceFiscale,onChange:t,fullWidth:!0,margin:"normal",required:!0,error:r.codiceFiscale}),e(n,{label:"ID Fiscale IVA Paese",name:"idFiscaleIVAPaese",value:i.idFiscaleIVAPaese,onChange:t,fullWidth:!0,margin:"normal",error:r.idFiscaleIVAPaese,required:!0}),e(n,{label:"ID Fiscale IVA Codice",name:"idFiscaleIVACodice",value:i.idFiscaleIVACodice,onChange:t,fullWidth:!0,margin:"normal",error:r.idFiscaleIVACodice,required:!0})]})})}),e(l,{children:e(C,{children:g(l,{p:2,children:[e(P,{variant:"h6",gutterBottom:!0,children:"Sede:"}),e(n,{label:"Indirizzo",name:"indirizzo",value:(I=i.sede)==null?void 0:I.indirizzo,onChange:d,fullWidth:!0,margin:"normal",error:r.sede_indirizzo,required:!0}),e(n,{label:"Num. Civico",name:"numeroCivico",value:(A=i.sede)==null?void 0:A.numeroCivico,onChange:d,fullWidth:!0,margin:"normal"}),e(n,{label:"CAP",name:"cap",value:(V=i.sede)==null?void 0:V.cap,onChange:d,fullWidth:!0,margin:"normal",required:!0,error:r.sede_cap}),e(n,{label:"Comune",name:"comune",value:(y=i.sede)==null?void 0:y.comune,onChange:d,fullWidth:!0,margin:"normal",required:!0,error:r.sede_comune}),e(n,{label:"Provincia",name:"provincia",value:(S=i.sede)==null?void 0:S.provincia,onChange:d,fullWidth:!0,margin:"normal"}),e(n,{label:"Nazione",name:"nazione",value:(W=i.sede)==null?void 0:W.nazione,onChange:d,fullWidth:!0,margin:"normal",helperText:"Es. IT",required:!0,error:r.sede_nazione})]})})}),e(w,{handleClick:D,disabled:_})]})},he=()=>{const{id:a}=B(),c=q(),{dettagli:i,getting:o,getError:r}=k(f=>f.aziende);return h.useEffect(()=>{a&&c($(a))},[a]),o?e(M,{}):r?e(N,{message:r}):e(H,{dettagli:i})};export{he as default};
