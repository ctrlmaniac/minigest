import{Q as v,S as T,R as o,b as p,F as z,j as a,U as E,V as x,W as y,X as I,K as M,M as O}from"./index-7ea7d510.js";import{a as h,E as g,u as b,B as d,b as P}from"./index-20e41f20.js";import{T as j}from"./Typography-c6dbe1eb.js";import{P as _}from"./Paper-0f647d87.js";import{T as f}from"./TextField-1ce554c4.js";import"./styled-fd732b21.js";import"./List-57e10bd2.js";import"./TransitionGroupContext-a30ccc2c.js";import"./createSvgIcon-48224a0e.js";function $(s,t){return async e=>{h.put(`${g.TIPO_DOC_FISC}/${s}`,t).then(r=>{e(v(r.data)),window.location.href="/admin/docfisc/tipi"}).catch(r=>{e(T(r.message))})}}const q=({dettagli:s})=>{const t=b(),[e,r]=o.useState({...s}),[i,c]=o.useState({codice:!1,descrizione:!1}),l=n=>{const{name:u,value:m,required:D}=n.target;r({...e,[u]:m}),D&&c({...i,[u]:m.length<1})},[F,S]=o.useState(!0);o.useEffect(()=>{S(!Object.values(i).every(n=>n===!1))},[i]);const C=()=>{t($(s.id,e))};return p(z,{children:[a(d,{mb:3,children:a(j,{variant:"h3",children:"Modifica Negozio"})}),a(d,{children:a(_,{children:p(d,{p:2,children:[a(f,{label:"Codice",name:"codice",value:e.codice,error:i.codice,fullWidth:!0,required:!0,onChange:l,margin:"normal"}),a(f,{label:"Descrizione",name:"descrizione",value:e.descrizione,error:i.descrizione,fullWidth:!0,required:!0,onChange:l,margin:"normal"})]})})}),a(E,{disabled:F,handleClick:C})]})};function A(s){return async t=>{h.get(`${g.TIPO_DOC_FISC}/${s}`).then(e=>{t(x(e.data))}).catch(e=>{t(y(e.message))})}}const U=()=>{const{id:s}=I(),t=b(),{dettagli:e,getting:r,getError:i}=P(c=>c.tipiDocFisc);return o.useEffect(()=>{s&&t(A(s))},[s]),r?a(M,{}):i?a(O,{message:i}):a(q,{dettagli:e})};export{U as default};
