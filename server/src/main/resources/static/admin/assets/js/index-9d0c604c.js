import{M as v,P as T,R as o,d as p,F as z,j as a,Q as E,S as I,U as P,V as x,H as y,I as O}from"./index-d95515c4.js";import{a as h,E as g,u as C,b as _}from"./hooks-cf9ffb8c.js";import{B as d}from"./Box-55b58d49.js";import{T as j}from"./Typography-2cd9b917.js";import{P as M}from"./Paper-f17716e4.js";import{T as f}from"./TextField-dc29b84c.js";import"./styled-61e901cf.js";import"./List-f11e1842.js";import"./createSvgIcon-fce5a7a5.js";function $(s,t){return async e=>{h.put(`${g.TIPO_DOC_FISC}/${s}`,t).then(i=>{e(v(i.data)),window.location.href="/admin/docfisc/tipi"}).catch(i=>{e(T(i.message))})}}const q=({dettagli:s})=>{const t=C(),[e,i]=o.useState({...s}),[r,c]=o.useState({codice:!1,descrizione:!1}),l=n=>{const{name:u,value:m,required:D}=n.target;i({...e,[u]:m}),D&&c({...r,[u]:m.length<1})},[F,S]=o.useState(!0);o.useEffect(()=>{S(!Object.values(r).every(n=>n===!1))},[r]);const b=()=>{t($(s.id,e))};return p(z,{children:[a(d,{mb:3,children:a(j,{variant:"h3",children:"Modifica Negozio"})}),a(d,{children:a(M,{children:p(d,{p:2,children:[a(f,{label:"Codice",name:"codice",value:e.codice,error:r.codice,fullWidth:!0,required:!0,onChange:l,margin:"normal"}),a(f,{label:"Descrizione",name:"descrizione",value:e.descrizione,error:r.descrizione,fullWidth:!0,required:!0,onChange:l,margin:"normal"})]})})}),a(E,{disabled:F,handleClick:b})]})};function R(s){return async t=>{h.get(`${g.TIPO_DOC_FISC}/${s}`).then(e=>{t(I(e.data))}).catch(e=>{t(P(e.message))})}}const U=()=>{const{id:s}=x(),t=C(),{dettagli:e,getting:i,getError:r}=_(c=>c.tipiDocFisc);return o.useEffect(()=>{s&&t(R(s))},[s]),i?a(y,{}):r?a(O,{message:r}):a(q,{dettagli:e})};export{U as default};
