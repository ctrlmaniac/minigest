import{d as v,l as f,j as i,b as c,V as D,W as N,R as C,F as B}from"./index-67254d02.js";import{a as m,B as p,T as d,u as E}from"./hooks-fccfb499.js";import{a as I}from"./List-02219cef.js";import{L as T,a as S}from"./ListItemText-d68d1c25.js";import{P as x}from"./Paper-3e81e2e3.js";import{A as g}from"./Alert-7c7d6f34.js";import{E as k,a as w}from"./index-c44c1a12.js";import{T as F,a as y,b as o,c as A}from"./TableRow-b83a5f3c.js";import{T as W}from"./TableHead-ce5d8a6b.js";import{I as z}from"./IconFile-b8e5e73f.js";import{I as b}from"./IconButton-3fae5024.js";import{B as L}from"./Button-f80334d5.js";import{l as $}from"./list-02b145b9.js";import{G as u}from"./Grid-92817418.js";import"./ButtonBase-4000f0af.js";import"./TransitionGroupContext-9ce3bcfc.js";import"./listItemTextClasses-b9eaa055.js";import"./createSvgIcon-6b855daf.js";import"./createReactComponent-d33df1ab.js";import"./useTheme-b4ae5703.js";const j=()=>{var s;const a=v(),{dettagli:t}=m(n=>n.account),{selected:r}=m(n=>n.aziende);let e=i(d,{children:"Caricamento in corso..."});return f.isEmpty(t==null?void 0:t.aziende)?e=i(d,{children:"Devi crearti un'azienda!"}):e=i(I,{children:(s=t==null?void 0:t.aziende)==null?void 0:s.map(n=>i(T,{selected:(r==null?void 0:r.id)===n.id,onClick:()=>a(`/aziende/dettagli/${n.id}`),children:n.denominazione},n.id))}),i(x,{children:c(p,{p:2,children:[i(d,{gutterBottom:!0,children:"Le tue aziende:"}),e]})})},R=()=>{const{listByAzienda:a,selected:t}=m(e=>e.negozi);let r=i(d,{children:"Caricamento in corso..."});return f.isEmpty(a)?r=i(g,{severity:"warning",children:"Non hai negozi, creane uno!"}):r=i(I,{children:a==null?void 0:a.map(e=>i(T,{selected:(t==null?void 0:t.id)===e.id,children:i(S,{primary:e.nome})},e.id))}),i(x,{children:c(p,{p:2,children:[i(d,{gutterBottom:!0,children:"I tuoi negozi:"}),r]})})};function U(a){return async t=>{let r=`${k.CHIUSURE_FISCALI}/last7?negozio=${a}`;w.get(r).then(e=>{t(D(e.data))}).catch(e=>{t(N(e.message))})}}const G=()=>{const a=E(),t=v(),{selected:r}=m(l=>l.negozi),{list:e,listError:s,listing:n}=m(l=>l.chiusureFiscali);C.useEffect(()=>{r&&a(U(r.id))},[r]);let h=i(d,{children:"Caricamento in corso..."});return s&&(h=i(g,{severity:"error",children:s})),f.isEmpty(e)?h=i(g,{severity:"info",children:"Non ci sono chiusure, aggiungine una!"}):h=c(F,{children:[i(W,{children:c(y,{children:[i(o,{children:"Data"}),i(o,{children:"Totale"}),i(o,{children:"N.D.F."}),i(o,{sx:{width:50},align:"center",children:i(z,{})})]})}),i(A,{children:e==null?void 0:e.map(l=>c(y,{children:[i(o,{children:l.data}),c(o,{children:["€ ",l.totale]}),i(o,{children:l.numeroDocFisc}),i(o,{children:i(b,{color:"info",onClick:()=>t(`/docfisc/chiusure-fiscali/dettagli/${l.id}`),children:i(z,{})})})]},l.id))})]}),i(B,{children:i(x,{children:c(p,{p:2,children:[i(d,{variant:"h6",gutterBottom:!0,children:"Ultime Chiusure Fiscali"}),h,i(p,{mt:2,sx:{textAlign:"right"},children:i(L,{onClick:()=>t("/app/docfisc/chiusure-fiscali"),children:"vai alla lista"})})]})})})},H=()=>{const a=E(),t=v(),{listError:r,list:e}=m(n=>n.scadenzario);C.useEffect(()=>{a($())},[]);let s=i(d,{children:"caricamento..."});return r&&(s=i(g,{severity:"error",children:r})),f.isEmpty(e)?s=i(g,{severity:"info",children:"Non ci sono scadenze da pagare!"}):s=i(F,{children:i(A,{children:e==null?void 0:e.map(n=>c(y,{children:[i(o,{sx:{width:50},align:"center",children:i(b,{color:"info",onClick:()=>{var h;return t(`/app/docfisc/fatture/dettagli/${(h=n.fattura)==null?void 0:h.id}`)},children:i(z,{})})}),i(o,{children:n.data}),c(o,{align:"right",children:[n.importo," €"]})]},n.id))})}),i(x,{children:c(p,{p:2,children:[i(d,{variant:"h6",gutterBottom:!0,children:"Scadenze da pagare"}),s,i(p,{mt:2,sx:{textAlign:"right"},children:i(L,{onClick:()=>t("/app/scadenzario"),children:"vai alla lista"})})]})})},si=()=>i(B,{children:c(u,{container:!0,direction:"row",justifyContent:"space-around",alignItems:"center",spacing:2,children:[i(u,{item:!0,xs:12,sm:6,children:i(j,{})}),i(u,{item:!0,xs:12,sm:6,children:i(R,{})}),i(u,{item:!0,xs:12,children:i(G,{})}),i(u,{item:!0,xs:12,children:i(H,{})})]})});export{si as default};
