import{au as v,av as E,R as i,b as S,F as x,j as e,ai as z,aa as C,o as F,C as N}from"./index-67254d02.js";import{g as j}from"./get-d6942be2.js";import{u as p,B as u,T as y,a as T}from"./hooks-fccfb499.js";import{a as D,E as M}from"./index-c44c1a12.js";import{P}from"./Paper-3e81e2e3.js";import{T as R}from"./TextField-4add7af0.js";import"./Grow-de51d2e5.js";import"./useTheme-b4ae5703.js";import"./utils-2b3ff743.js";import"./TransitionGroupContext-9ce3bcfc.js";import"./Modal-36c42f6c.js";import"./List-02219cef.js";import"./createSvgIcon-6b855daf.js";function $(a,o){return async t=>{D.put(`${M.NEGOZI}/${a}`,o).then(s=>{t(v()),window.location.href=`/app/negozi/dettagli/${s.data.id}`}).catch(s=>{t(E(s.message))})}}const q=({dettagli:a})=>{const o=p(),[t,s]=i.useState({...a}),[r,n]=i.useState({nome:!1}),d=c=>{const{name:l,value:m,required:b}=c.target;s({...t,[l]:m}),b&&n({...r,[l]:m.length<1})},[f,h]=i.useState(!0);i.useEffect(()=>{h(!Object.values(r).every(c=>c===!1))},[r]);const g=()=>{o($(a.id,t))};return S(x,{children:[e(u,{mb:3,children:e(y,{variant:"h3",children:"Modifica Negozio"})}),e(u,{children:e(P,{children:e(u,{p:2,children:e(R,{label:"Nome",name:"nome",value:t.nome,error:r.nome,required:!0,fullWidth:!0,onChange:d})})})}),e(z,{disabled:f,handleClick:g})]})},K=()=>{const{id:a}=C(),o=p(),{dettagli:t,getting:s,getError:r}=T(n=>n.negozi);return i.useEffect(()=>{a&&o(j(a))},[a]),s?e(F,{}):r?e(N,{message:r}):e(q,{dettagli:t})};export{K as default};
