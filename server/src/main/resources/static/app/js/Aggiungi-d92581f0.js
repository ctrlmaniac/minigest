import{aq as S,ar as v,R as o,b as i,F as A,j as s,ak as E}from"./index-8b4d5f63.js";import{a as x,E as j}from"./index-c44c1a12.js";import{u as y,a as F,B as l,T as p}from"./hooks-60ad3553.js";import{P as T}from"./Paper-194bc560.js";import{T as q}from"./TextField-99910ff8.js";import"./Grow-c759ee51.js";import"./useTheme-6e0b2ca8.js";import"./utils-a39b1a44.js";import"./TransitionGroupContext-d8575920.js";import"./Modal-4ba9a539.js";import"./List-ae01560a.js";import"./createSvgIcon-c7396f43.js";function B(n){return async e=>{x.post(`${j.NEGOZI}`,n).then(t=>{e(S()),window.location.href="/app/negozi"}).catch(t=>{e(v(t.message))})}}const Z=()=>{const n=y(),{selected:e}=F(a=>a.aziende),[t,u]=o.useState({azienda:e,nome:""}),[r,d]=o.useState({nome:!0});o.useEffect(()=>{u({...t,azienda:e})},[e]);const g=a=>{const{name:c,value:m,required:z}=a.target;u({...t,[c]:m}),z&&d({...r,[c]:m.length<1})},[h,f]=o.useState(!0);o.useEffect(()=>{f(!Object.values(r).every(a=>a===!1))},[r]);const b=()=>{n(B(t))};return i(A,{children:[i(l,{mb:3,children:[s(p,{variant:"h3",gutterBottom:!0,children:"Aggiungi Negozio"}),i(p,{children:["Attenzione! Si sta aggiungendo un negozio all'azienda"," ",e==null?void 0:e.denominazione]})]}),s(l,{children:s(T,{children:s(l,{p:2,children:s(q,{label:"nome",name:"nome",value:t.nome,error:r.nome,fullWidth:!0,required:!0,onChange:g})})})}),s(E,{handleClick:b,disabled:h})]})};export{Z as default};
