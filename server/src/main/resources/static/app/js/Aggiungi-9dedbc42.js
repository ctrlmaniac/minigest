import{ao as S,ap as v,R as a,b as i,F as E,j as s,ai as x}from"./index-67254d02.js";import{a as A,E as j}from"./index-c44c1a12.js";import{u as y,a as F,B as l,T as m}from"./hooks-fccfb499.js";import{P as T}from"./Paper-3e81e2e3.js";import{T as B}from"./TextField-4add7af0.js";import"./Grow-de51d2e5.js";import"./useTheme-b4ae5703.js";import"./utils-2b3ff743.js";import"./TransitionGroupContext-9ce3bcfc.js";import"./Modal-36c42f6c.js";import"./List-02219cef.js";import"./createSvgIcon-6b855daf.js";function C(r){return async e=>{A.post(`${j.NEGOZI}`,r).then(t=>{e(S()),window.location.href="/app/negozi"}).catch(t=>{e(v(t.message))})}}const Z=()=>{const r=y(),{selected:e}=F(o=>o.aziende),[t,p]=a.useState({azienda:e,nome:""}),[n,d]=a.useState({nome:!0});a.useEffect(()=>{p({...t,azienda:e})},[e]);const g=o=>{const{name:u,value:c,required:z}=o.target;p({...t,[u]:c}),z&&d({...n,[u]:c.length<1})},[h,f]=a.useState(!0);a.useEffect(()=>{f(!Object.values(n).every(o=>o===!1))},[n]);const b=()=>{r(C(t))};return i(E,{children:[i(l,{mb:3,children:[s(m,{variant:"h3",gutterBottom:!0,children:"Aggiungi Negozio"}),i(m,{children:["Attenzione! Si sta aggiungendo un negozio all'azienda"," ",e==null?void 0:e.denominazione]})]}),s(l,{children:s(T,{children:s(l,{p:2,children:s(B,{label:"nome",name:"nome",value:t.nome,error:n.nome,fullWidth:!0,required:!0,onChange:g})})})}),s(x,{handleClick:b,disabled:h})]})};export{Z as default};
