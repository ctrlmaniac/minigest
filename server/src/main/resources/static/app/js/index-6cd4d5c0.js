import{ai as R,aj as j,R as p,l as s,b as f,F as M,j as e,ak as O,ac as k,o as B,M as N}from"./index-8b4d5f63.js";import{g as $}from"./get-44231a5d.js";import{u as _,B as l,T as q,a as w}from"./hooks-60ad3553.js";import{a as Z,E as G}from"./index-c44c1a12.js";import{P as C}from"./Paper-194bc560.js";import{T as r}from"./TextField-99910ff8.js";import"./Grow-c759ee51.js";import"./useTheme-6e0b2ca8.js";import"./utils-a39b1a44.js";import"./TransitionGroupContext-d8575920.js";import"./Modal-4ba9a539.js";import"./List-ae01560a.js";import"./createSvgIcon-c7396f43.js";function H(a,c){return async i=>{Z.put(`${G.AZIENDE}/${a}`,c).then(o=>{R(),window.location.href="/app/aziende/dettagli/"+o.data.id}).catch(o=>{i(j(o.message))})}}const J=({dettagli:a})=>{var v,F,b,E,I,A,y,V,W,P;const c=_(),[i,o]=p.useState({...a}),[n,g]=p.useState({denominazione:s.isEmpty(a.denominazione),codiceFiscale:s.isEmpty(a.codiceFiscale),idFiscaleIVAPaese:s.isEmpty(a.idFiscaleIVAPaese),idFiscaleIVACodice:s.isEmpty(a.idFiscaleIVACodice),sede_indirizzo:s.isEmpty((v=a.sede)==null?void 0:v.indirizzo),sede_cap:s.isEmpty((F=a.sede)==null?void 0:F.cap),sede_comune:s.isEmpty((b=a.sede)==null?void 0:b.comune),sede_nazione:s.isEmpty((E=a.sede)==null?void 0:E.nazione)}),t=u=>{const{value:m,name:h,required:z}=u.target;o({...i,[h]:m}),z&&g({...n,[h]:m.length<1})},d=u=>{const{value:m,name:h,required:z}=u.target;if(o({...i,sede:{...i.sede,[h]:m}}),z){const T=`sede_${h}`;g({...n,[T]:m.length<1})}},[S,x]=p.useState(!0);p.useEffect(()=>{x(!Object.values(n).every(u=>u===!1))},[n]);const D=()=>{c(H(a.id,i))};return f(M,{children:[e(l,{mb:3,children:e(q,{variant:"h3",children:"Modifica Azienda"})}),e(l,{mb:3,children:e(C,{children:f(l,{p:2,children:[e(r,{label:"Titolo",name:"titolo",value:i.titolo,onChange:t,fullWidth:!0,margin:"normal"}),e(r,{label:"Denominazione, nome o cognome",name:"denominazione",value:i.denominazione,onChange:t,fullWidth:!0,margin:"normal",required:!0,error:n.denominazione})]})})}),e(l,{mb:3,children:e(C,{children:f(l,{p:2,children:[e(r,{label:"Codice EORI",name:"codiceEORI",value:i.codiceEORI,onChange:t,fullWidth:!0,margin:"normal"}),e(r,{label:"Codice Fiscale",name:"codiceFiscale",value:i.codiceFiscale,onChange:t,fullWidth:!0,margin:"normal",required:!0,error:n.codiceFiscale}),e(r,{label:"ID Fiscale IVA Paese",name:"idFiscaleIVAPaese",value:i.idFiscaleIVAPaese,onChange:t,fullWidth:!0,margin:"normal",error:n.idFiscaleIVAPaese,required:!0}),e(r,{label:"ID Fiscale IVA Codice",name:"idFiscaleIVACodice",value:i.idFiscaleIVACodice,onChange:t,fullWidth:!0,margin:"normal",error:n.idFiscaleIVACodice,required:!0})]})})}),e(l,{children:e(C,{children:f(l,{p:2,children:[e(q,{variant:"h6",gutterBottom:!0,children:"Sede:"}),e(r,{label:"Indirizzo",name:"indirizzo",value:(I=i.sede)==null?void 0:I.indirizzo,onChange:d,fullWidth:!0,margin:"normal",error:n.sede_indirizzo,required:!0}),e(r,{label:"Num. Civico",name:"numeroCivico",value:(A=i.sede)==null?void 0:A.numeroCivico,onChange:d,fullWidth:!0,margin:"normal"}),e(r,{label:"CAP",name:"cap",value:(y=i.sede)==null?void 0:y.cap,onChange:d,fullWidth:!0,margin:"normal",required:!0,error:n.sede_cap}),e(r,{label:"Comune",name:"comune",value:(V=i.sede)==null?void 0:V.comune,onChange:d,fullWidth:!0,margin:"normal",required:!0,error:n.sede_comune}),e(r,{label:"Provincia",name:"provincia",value:(W=i.sede)==null?void 0:W.provincia,onChange:d,fullWidth:!0,margin:"normal"}),e(r,{label:"Nazione",name:"nazione",value:(P=i.sede)==null?void 0:P.nazione,onChange:d,fullWidth:!0,margin:"normal",helperText:"Es. IT",required:!0,error:n.sede_nazione})]})})}),e(O,{handleClick:D,disabled:S})]})},le=()=>{const{id:a}=k(),c=_(),{dettagli:i,getting:o,getError:n}=w(g=>g.aziende);return p.useEffect(()=>{a&&c($(a))},[a]),o?e(B,{}):n?e(N,{message:n}):e(J,{dettagli:i})};export{le as default};
