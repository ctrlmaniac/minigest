import{aw as E,ax as v,R as i,b as x,F as S,j as e,ak as z,ac as F,o as M,M as N}from"./index-222da0ba.js";import{g as j}from"./get-90c3d154.js";import{u as p,B as l,T as y,a as T}from"./hooks-db4dee7a.js";import{a as w,E as A}from"./index-c44c1a12.js";import{P as C}from"./Paper-96727556.js";import{T as D}from"./TextField-9f2cfd53.js";import"./Grow-dd1bfbaf.js";import"./useTheme-88693805.js";import"./utils-50920ebd.js";import"./TransitionGroupContext-58f02f0d.js";import"./Modal-821d5a1c.js";import"./List-670810c7.js";import"./createSvgIcon-208d5829.js";function P(t,o){return async a=>{w.put(`${A.NEGOZI}/${t}`,o).then(s=>{a(E()),window.location.href=`/app/negozi/dettagli/${s.data.id}`}).catch(s=>{a(v(s.message))})}}const R=({dettagli:t})=>{const o=p(),[a,s]=i.useState({...t}),[r,n]=i.useState({nome:!1}),d=c=>{const{name:m,value:u,required:b}=c.target;s({...a,[m]:u}),b&&n({...r,[m]:u.length<1})},[f,h]=i.useState(!0);i.useEffect(()=>{h(!Object.values(r).every(c=>c===!1))},[r]);const g=()=>{o(P(t.id,a))};return x(S,{children:[e(l,{mb:3,children:e(y,{variant:"h3",children:"Modifica Negozio"})}),e(l,{children:e(C,{children:e(l,{p:2,children:e(D,{label:"Nome",name:"nome",value:a.nome,error:r.nome,required:!0,fullWidth:!0,onChange:d})})})}),e(z,{disabled:f,handleClick:g})]})},L=()=>{const{id:t}=F(),o=p(),{dettagli:a,getting:s,getError:r}=T(n=>n.negozi);return i.useEffect(()=>{t&&o(j(t))},[t]),s?e(M,{}):r?e(N,{message:r}):e(R,{dettagli:a})};export{L as default};
