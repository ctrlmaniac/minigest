import{z as m,R as g,a as s,j as n}from"./index-7dc2affe.js";import{l}from"./lodash-c511f2c0.js";import{a as w,E as x,u as y,b as C,T as p}from"./index-601b809b.js";import{C as T}from"./Container-c21235de.js";import{P as q}from"./Paper-454d4c95.js";import{B as d}from"./Box-9c0ffbe5.js";import{B as u}from"./Button-afbc48ef.js";import{T as v}from"./Typography-de83ac05.js";import"./ButtonBase-2921ba5b.js";function E(t){return async a=>{w.post(`${x.ACCOUNT}/request-password-reset`,{email:t}).then(e=>{a(m(e.data))}).catch(e=>{let r="errore";e.response?r=e.response.data:r=e.message,a(m(r))})}}const S=()=>{const t=y(),{reqPwResetMessage:a}=C(o=>o.account),[e,r]=g.useState({username:"",password:""}),i=o=>{const{name:h,value:f}=o.target;r({...e,[h]:f.trim()})},c=()=>{l.isEmpty(e.username)||t(E(e.username))};return s(T,{maxWidth:"xs",children:s(q,{children:n(d,{p:2,children:[n("form",{action:"",method:"post",children:[s(p,{fullWidth:!0,label:"email",name:"username",type:"email",margin:"normal",value:e.username,onChange:i,error:e.username.length<1,required:!0}),s(p,{fullWidth:!0,name:"password",label:"password",type:"password",margin:"normal",value:e.password,onChange:i,error:e.password.length<1,required:!0}),s(u,{fullWidth:!0,variant:"contained",type:"submit",children:"accedi"})]}),n(d,{mt:2,children:[s(u,{fullWidth:!0,onClick:()=>c(),children:"resetta password"}),!l.isEmpty(a)&&s(v,{children:a})]})]})})})};export{S as default};
