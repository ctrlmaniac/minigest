import{aj as j,ak as R,R as h,Y as s,a as g,F as O,j as e,B as l,ad as k,a1 as B}from"./index-5f51ca44.js";import{E as M}from"./ErrorScreen-79d85a92.js";import{g as N}from"./get-66a7ee28.js";import{u as q,a as $}from"./hooks-1f293e4f.js";import{S as w}from"./SaveFab-142d182a.js";import{a as L,E as Y}from"./index-30e337fd.js";import{T as P}from"./Typography-6ee06c79.js";import{P as C}from"./Paper-cffb93af.js";import{T as n}from"./TextField-fd5a3e96.js";import"./Container-87c2bf1f.js";import"./Alert-368acf87.js";import"./createSvgIcon-1a708d24.js";import"./ButtonBase-8b0d506c.js";import"./Fab-998d6591.js";import"./createReactComponent-ea0485c8.js";import"./Grow-62fe4847.js";import"./useTheme-90c811d5.js";import"./utils-7d94707b.js";import"./Modal-3eb94ddf.js";import"./List-91c3af84.js";function Z(a,c){return async i=>{L.put(`${Y.AZIENDE}/${a}`,c).then(o=>{j(),window.location.href="/app/aziende/dettagli/"+o.data.id}).catch(o=>{i(R(o.message))})}}const G=({dettagli:a})=>{var v,F,E,b,I,A,y,V,S,W;const c=q(),[i,o]=h.useState({...a}),[r,f]=h.useState({denominazione:s.isEmpty(a.denominazione),codiceFiscale:s.isEmpty(a.codiceFiscale),idFiscaleIVAPaese:s.isEmpty(a.idFiscaleIVAPaese),idFiscaleIVACodice:s.isEmpty(a.idFiscaleIVACodice),sede_indirizzo:s.isEmpty((v=a.sede)==null?void 0:v.indirizzo),sede_cap:s.isEmpty((F=a.sede)==null?void 0:F.cap),sede_comune:s.isEmpty((E=a.sede)==null?void 0:E.comune),sede_nazione:s.isEmpty((b=a.sede)==null?void 0:b.nazione)}),t=m=>{const{value:u,name:p,required:z}=m.target;o({...i,[p]:u}),z&&f({...r,[p]:u.length<1})},d=m=>{const{value:u,name:p,required:z}=m.target;if(o({...i,sede:{...i.sede,[p]:u}}),z){const T=`sede_${p}`;f({...r,[T]:u.length<1})}},[_,x]=h.useState(!0);h.useEffect(()=>{x(!Object.values(r).every(m=>m===!1))},[r]);const D=()=>{c(Z(a.id,i))};return g(O,{children:[e(l,{mb:3,children:e(P,{variant:"h3",children:"Modifica Azienda"})}),e(l,{mb:3,children:e(C,{children:g(l,{p:2,children:[e(n,{label:"Titolo",name:"titolo",value:i.titolo,onChange:t,fullWidth:!0,margin:"normal"}),e(n,{label:"Denominazione, nome o cognome",name:"denominazione",value:i.denominazione,onChange:t,fullWidth:!0,margin:"normal",required:!0,error:r.denominazione})]})})}),e(l,{mb:3,children:e(C,{children:g(l,{p:2,children:[e(n,{label:"Codice EORI",name:"codiceEORI",value:i.codiceEORI,onChange:t,fullWidth:!0,margin:"normal"}),e(n,{label:"Codice Fiscale",name:"codiceFiscale",value:i.codiceFiscale,onChange:t,fullWidth:!0,margin:"normal",required:!0,error:r.codiceFiscale}),e(n,{label:"ID Fiscale IVA Paese",name:"idFiscaleIVAPaese",value:i.idFiscaleIVAPaese,onChange:t,fullWidth:!0,margin:"normal",error:r.idFiscaleIVAPaese,required:!0}),e(n,{label:"ID Fiscale IVA Codice",name:"idFiscaleIVACodice",value:i.idFiscaleIVACodice,onChange:t,fullWidth:!0,margin:"normal",error:r.idFiscaleIVACodice,required:!0})]})})}),e(l,{children:e(C,{children:g(l,{p:2,children:[e(P,{variant:"h6",gutterBottom:!0,children:"Sede:"}),e(n,{label:"Indirizzo",name:"indirizzo",value:(I=i.sede)==null?void 0:I.indirizzo,onChange:d,fullWidth:!0,margin:"normal",error:r.sede_indirizzo,required:!0}),e(n,{label:"Num. Civico",name:"numeroCivico",value:(A=i.sede)==null?void 0:A.numeroCivico,onChange:d,fullWidth:!0,margin:"normal"}),e(n,{label:"CAP",name:"cap",value:(y=i.sede)==null?void 0:y.cap,onChange:d,fullWidth:!0,margin:"normal",required:!0,error:r.sede_cap}),e(n,{label:"Comune",name:"comune",value:(V=i.sede)==null?void 0:V.comune,onChange:d,fullWidth:!0,margin:"normal",required:!0,error:r.sede_comune}),e(n,{label:"Provincia",name:"provincia",value:(S=i.sede)==null?void 0:S.provincia,onChange:d,fullWidth:!0,margin:"normal"}),e(n,{label:"Nazione",name:"nazione",value:(W=i.sede)==null?void 0:W.nazione,onChange:d,fullWidth:!0,margin:"normal",helperText:"Es. IT",required:!0,error:r.sede_nazione})]})})}),e(w,{handleClick:D,disabled:_})]})},he=()=>{const{id:a}=k(),c=q(),{dettagli:i,getting:o,getError:r}=$(f=>f.aziende);return h.useEffect(()=>{a&&c(N(a))},[a]),o?e(B,{}):r?e(M,{message:r}):e(G,{dettagli:i})};export{he as default};
