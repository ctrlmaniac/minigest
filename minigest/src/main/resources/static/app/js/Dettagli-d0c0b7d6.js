import{aN as y,aO as D,aP as F,ai as A,i as B,R as S,l as m,j as e,B as x,V as I,d as a,F as j,aj as C,aI as P}from"./index-c637eda0.js";import{f as N,e as $,B as o,T as u,P as p}from"./hooks-edca5f41.js";import{a as H,E as U}from"./index-450aab6b.js";import{r as V}from"./remove-c10240c4.js";import{T as f,b as d,c as r,a as g}from"./TableRow-70220851.js";import{T as E}from"./TableHead-bdf09698.js";import{S as k}from"./Snackbar-b1c4388f.js";import{A as q}from"./Alert-ab1cdef6.js";function w(t){return async l=>{l(y()),H.get(`${U.CHIUSURE_FISCALI}/${t}`).then(i=>{l(D(i.data))}).catch(i=>{let c="Errore";i.response?c=i.response.data:c="Errore",l(F(c))})}}const Q=()=>{const{id:t}=A(),l=N(),i=B(),{getting:c,getError:T,response:h,dettagli:n,removeError:R,removing:b}=$(s=>s.chiusureFiscali);S.useEffect(()=>{m.isEmpty(t)||l(w(t))},[t]);const v=()=>{l(V(t)),setTimeout(()=>{P(),i("/docfisc/chiusure-fiscali")},1e3)};return c?e(x,{}):T||m.isEmpty(n)?e(I,{message:h||"Errore caricamento chiusura fiscale"}):a(j,{children:[e(o,{mb:3,children:e(u,{variant:"h3",children:"Dettagli Chiusura Fiscale"})}),e(o,{mb:3,children:e(p,{children:a(o,{p:2,children:[e(u,{variant:"h6",gutterBottom:!0,children:"Riepilogo"}),a(f,{children:[e(E,{children:a(d,{children:[e(r,{children:"Data"}),e(r,{children:"Totale"}),e(r,{children:"N.D.F"})]})}),e(g,{children:a(d,{children:[e(r,{children:n.data}),a(r,{children:["€ ",n.totale]}),e(r,{children:n.numeroDocFisc})]})})]})]})})}),e(o,{children:e(p,{children:a(o,{p:2,children:[e(u,{variant:"h6",gutterBottom:!0,children:"Reparti"}),a(f,{children:[e(E,{children:a(d,{children:[e(r,{children:"Reparto"}),e(r,{children:"Totale"}),e(r,{children:"Annulli"}),e(r,{children:"Resi"})]})}),e(g,{children:n.reparti.map(s=>a(d,{children:[a(r,{children:["%",s.aliquota]}),a(r,{children:["€ ",s.totale]}),a(r,{children:["€ ",s.totaleAnnulli]}),a(r,{children:["€ ",s.totaleResi]})]},s.id))})]})]})})}),e(C,{loading:b,handleDelete:()=>v(),handleEdit:()=>i(`/docfisc/chiusure-fiscali/modifica/${n.id}`)}),e(k,{open:!m.isEmpty(h),children:e(q,{severity:R?"error":"success",children:h})})]})};export{Q as default};
