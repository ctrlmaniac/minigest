import{aj as I,ak as R,al as S,am as B,an as C,i as P,ao as V,R as j,l as a,j as r,B as w,V as $,d as i,F as k,ap as N,aq as O}from"./index-e10d2f7b.js";import{f as q,e as H,B as n,T as Z,P as d}from"./hooks-9ce743d9.js";import{a as G,E as J}from"./index-2f79fbb1.js";import{g as K}from"./get-41914a65.js";import{T as h,c as m,a as t,b as s}from"./TableRow-83d23d8e.js";import{S as L}from"./Snackbar-6b113c77.js";import{A as M}from"./Alert-36e89cc3.js";import"./Grow-b1a229d9.js";function Q(l){return async o=>{o(I()),G.delete(`${J.AZIENDE}/${l}`).then(c=>{o(R(c.data)),o(S(l)),o(B(l))}).catch(c=>{let e="Errore";c.response?e=c.response.data:e="Errore",o(C(e))})}}const se=()=>{var u,E,g,v,A,b;const l=P(),o=q(),{id:c}=V(),{dettagli:e,getting:y,getError:p,removing:T,removeError:x,removeResponse:f}=H(D=>D.aziende);j.useEffect(()=>{a.isEmpty(c)||o(K(c))},[]);const F=()=>{o(Q(c)),setTimeout(()=>{o(O()),l("/aziende")},2e3)};return y?r(w,{}):!a.isEmpty(p)||a.isEmpty(e)?r($,{message:p||"Errore di caricamento"}):i(k,{children:[r(n,{mb:3,children:r(Z,{variant:"h3",children:"Dettagli Azienda"})}),r(n,{mb:3,children:r(d,{children:r(n,{p:2,children:r(h,{children:i(m,{children:[i(t,{children:[r(s,{children:"Titolo"}),r(s,{children:(e==null?void 0:e.titolo)||"non fornito"})]}),i(t,{children:[r(s,{sx:{width:150},children:"Denominazione"}),r(s,{children:e==null?void 0:e.denominazione})]})]})})})})}),r(n,{mb:3,children:r(d,{children:r(n,{p:2,children:r(h,{children:i(m,{children:[i(t,{children:[r(s,{sx:{width:150},children:"Codice EORI"}),r(s,{children:(e==null?void 0:e.codiceEORI)||"non fornito"})]}),i(t,{children:[r(s,{children:"Codice Fiscale"}),r(s,{children:e==null?void 0:e.codiceFiscale})]}),i(t,{children:[r(s,{children:"Partita IVA"}),r(s,{children:(e==null?void 0:e.idFiscaleIVAPaese)+" "+(e==null?void 0:e.idFiscaleIVACodice)})]})]})})})})}),r(n,{children:r(d,{children:r(n,{p:2,children:r(h,{children:r(m,{children:i(t,{children:[r(s,{sx:{width:150},children:"Sede"}),i(s,{children:[(u=e==null?void 0:e.sede)==null?void 0:u.indirizzo,", ",(E=e==null?void 0:e.sede)==null?void 0:E.numeroCivico,","," ",(g=e==null?void 0:e.sede)==null?void 0:g.cap," ",(v=e==null?void 0:e.sede)==null?void 0:v.comune," (",(A=e==null?void 0:e.sede)==null?void 0:A.provincia,") - ",(b=e==null?void 0:e.sede)==null?void 0:b.nazione]})]})})})})})}),r(N,{handleEdit:()=>l(`/aziende/modifica/${c}`),handleDelete:F,loading:T}),r(L,{open:!a.isEmpty(f),autoHideDuration:500,children:r(M,{severity:x?"error":"success",children:f})})]})};export{se as default};
