import{a9 as g,aa as E,ab as v,i as y,R as m,d as l,F as z,j as e,l as d,ac as x}from"./index-c637eda0.js";import{f as A,e as L,B as s,T as p,P as h}from"./hooks-edca5f41.js";import{a as T,E as b}from"./index-450aab6b.js";import{T as B,a as D}from"./TextField-3b54eb4a.js";import{L as F}from"./LinearProgress-1c3cd5ee.js";import{A as u}from"./Alert-ab1cdef6.js";import{L as S,a as j}from"./ListItemText-84745c3e.js";function I(n=""){return async t=>{t(g()),T.get(`${b.AZIENDE}?denominazione=${n}`).then(a=>{t(E(a.data))}).catch(a=>{let r="Errore";a.response?r=a.response.data:r="Errore",t(v(r))})}}const Z=()=>{const n=y(),t=A(),{list:a,listing:r,listError:c}=L(i=>i.aziende),[o,f]=m.useState("");return m.useEffect(()=>{t(I(o))},[o]),l(z,{children:[e(s,{mb:3,children:e(p,{variant:"h3",children:"Aziende"})}),l(s,{mb:3,children:[e(h,{children:l(s,{p:2,children:[e(p,{variant:"h6",gutterBottom:!0,children:"Ricerca per denominazione"}),e(B,{label:"denominazione",value:o,onChange:i=>f(i.target.value),fullWidth:!0})]})}),r&&e(F,{})]}),!d.isEmpty(c)&&e(u,{severity:"error",children:c||"errore di caricamento"}),d.isEmpty(a)?e(u,{severity:"info",children:"Non ci sono aziende"}):e(h,{children:e(s,{p:2,children:e(D,{children:a==null?void 0:a.map(i=>e(S,{onClick:()=>n("dettagli/"+i.id),children:e(j,{primary:i.denominazione})},i.id))})})}),e(x,{href:"aziende/aggiungi"})]})};export{Z as default};
