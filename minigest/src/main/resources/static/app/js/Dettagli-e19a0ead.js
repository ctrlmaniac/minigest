import{ad as I,ae as R,af as S,ag as B,ah as C,i as P,ai as V,R as j,l as d,j as r,B as w,V as $,d as i,F as k,aj as N,ak as O}from"./index-8d810eb5.js";import{f as H,e as Z,B as n,T as q,P as a}from"./hooks-29c1883f.js";import{a as G,E as J}from"./index-369028e4.js";import{g as K}from"./get-0444696b.js";import{T as h,a as m,b as t,c as s}from"./TableRow-7bd9e227.js";import{S as L}from"./Snackbar-ee143c36.js";import{A as M}from"./Alert-ac51448d.js";function Q(l){return async o=>{o(I()),G.delete(`${J.AZIENDE}/${l}`).then(c=>{o(R(c.data)),o(S(l)),o(B(l))}).catch(c=>{let e="Errore";c.response?e=c.response.data:e="Errore",o(C(e))})}}const re=()=>{var u,E,g,v,A,b;const l=P(),o=H(),{id:c}=V(),{dettagli:e,getting:y,getError:p,removing:T,removeError:x,removeResponse:f}=Z(D=>D.aziende);j.useEffect(()=>{d.isEmpty(c)||o(K(c))},[]);const F=()=>{o(Q(c)),setTimeout(()=>{o(O()),l("/aziende")},2e3)};return y?r(w,{}):!d.isEmpty(p)||d.isEmpty(e)?r($,{message:p||"Errore di caricamento"}):i(k,{children:[r(n,{mb:3,children:r(q,{variant:"h3",children:"Dettagli Azienda"})}),r(n,{mb:3,children:r(a,{children:r(n,{p:2,children:r(h,{children:i(m,{children:[i(t,{children:[r(s,{children:"Titolo"}),r(s,{children:(e==null?void 0:e.titolo)||"non fornito"})]}),i(t,{children:[r(s,{sx:{width:150},children:"Denominazione"}),r(s,{children:e==null?void 0:e.denominazione})]})]})})})})}),r(n,{mb:3,children:r(a,{children:r(n,{p:2,children:r(h,{children:i(m,{children:[i(t,{children:[r(s,{sx:{width:150},children:"Codice EORI"}),r(s,{children:(e==null?void 0:e.codiceEORI)||"non fornito"})]}),i(t,{children:[r(s,{children:"Codice Fiscale"}),r(s,{children:e==null?void 0:e.codiceFiscale})]}),i(t,{children:[r(s,{children:"Partita IVA"}),r(s,{children:(e==null?void 0:e.idFiscaleIVAPaese)+" "+(e==null?void 0:e.idFiscaleIVACodice)})]})]})})})})}),r(n,{children:r(a,{children:r(n,{p:2,children:r(h,{children:r(m,{children:i(t,{children:[r(s,{sx:{width:150},children:"Sede"}),i(s,{children:[(u=e==null?void 0:e.sede)==null?void 0:u.indirizzo,", ",(E=e==null?void 0:e.sede)==null?void 0:E.numeroCivico,","," ",(g=e==null?void 0:e.sede)==null?void 0:g.cap," ",(v=e==null?void 0:e.sede)==null?void 0:v.comune," (",(A=e==null?void 0:e.sede)==null?void 0:A.provincia,") - ",(b=e==null?void 0:e.sede)==null?void 0:b.nazione]})]})})})})})}),r(N,{handleEdit:()=>l(`/aziende/modifica/${c}`),handleDelete:F,loading:T}),r(L,{open:!d.isEmpty(f),autoHideDuration:500,children:r(M,{severity:x?"error":"success",children:f})})]})};export{re as default};
