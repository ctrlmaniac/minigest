import{b0 as F,b1 as x,b2 as B,ai as R,i as A,R as C,l as s,j as e,B as S,V as E,d as i,F as N,a_ as j,a$ as w,aj as z,b3 as $}from"./index-8d810eb5.js";import{g as P}from"./get-ddf3d0b2.js";import{f as k,e as q,B as l,T as m,P as p}from"./hooks-29c1883f.js";import{a as V,E as H}from"./index-369028e4.js";import{A as h}from"./Alert-ac51448d.js";import{T as u,a as g,b as t,c as r}from"./TableRow-7bd9e227.js";import{T as v}from"./TableHead-49d1eeb5.js";import{I as U,a as _,b as G}from"./IconInfoCircle-f8acb4ef.js";import{S as J}from"./Snackbar-ee143c36.js";import"./createReactComponent-fd9b34e9.js";function K(o){return async d=>{d(F()),V.delete(`${H.FATTURE}/${o}`).then(c=>{d(x(c.data))}).catch(c=>{let n="Errore";c.response?n=c.response.data:n="Errore",d(B(n))})}}const ie=()=>{const{id:o}=R(),d=k(),c=A(),{dettagli:n,getting:y,getError:T,response:f,removing:D,removeError:b}=q(a=>a.fatture);C.useEffect(()=>{s.isEmpty(o)||d(P(o))},[o]);const I=()=>{d(K(o)),setTimeout(()=>{$(),b||c(-1)},1e3)};return y?e(S,{}):T?e(E,{message:f||"Fattura non trovata"}):s.isEmpty(n)?e(E,{message:"Fattura non trovata"}):(console.log(n),i(N,{children:[e(l,{mb:3,children:e(m,{variant:"h3",children:"Dettagli Fattura"})}),e(l,{mb:3,children:e(h,{variant:"outlined",severity:n.evasa?"success":"error",children:n.evasa?"Fattura pagata":"Fattura da pagare"})}),e(l,{mb:3,children:e(p,{children:e(l,{p:2,children:e(u,{children:i(g,{children:[i(t,{children:[e(r,{sx:{width:50},children:n.tipoDocumento.codice}),e(r,{children:n.tipoDocumento.descrizione})]}),i(t,{children:[e(r,{children:"Cedente"}),e(r,{children:n.cedente.denominazione})]}),i(t,{children:[e(r,{children:"Committente"}),e(r,{children:n.committente.denominazione})]}),i(t,{children:[e(r,{children:"Data"}),e(r,{children:n.data})]}),i(t,{children:[e(r,{children:"Data SDI"}),e(r,{children:n.dataSDI})]}),i(t,{children:[e(r,{children:"Numero"}),e(r,{children:n.numero})]}),i(t,{children:[e(r,{children:"Totale"}),i(r,{children:["€ ",n.totale]})]})]})})})})}),e(l,{mb:3,children:s.isEmpty(n.reparti)?e(h,{variant:"outlined",severity:"error",children:"Non ci sono reparti!"}):e(p,{children:i(l,{p:2,children:[e(m,{variant:"h6",gutterBottom:!0,children:"Riepilogo reparti"}),i(u,{children:[e(v,{children:i(t,{children:[e(r,{children:"Aliquota"}),e(r,{children:"Imponibile"}),e(r,{children:"Imposta"})]})}),e(g,{children:n.reparti.map(a=>i(t,{children:[i(r,{children:[a.aliquota," %"]}),i(r,{children:[a.imponibile," €"]}),i(r,{children:[a.imposta," €"]})]},a.id))})]})]})})}),e(l,{mb:3,children:s.isEmpty(n.scadenze)?e(h,{variant:"outlined",severity:"info",children:"Non ci sono scadenze!"}):e(p,{children:i(l,{p:2,children:[e(m,{variant:"h6",gutterBottom:!0,children:"Riepilogo scadenze"}),i(u,{children:[e(v,{children:i(t,{children:[e(r,{children:"Data"}),e(r,{children:"Importo"}),e(r,{align:"center",sx:{width:50},children:e(U,{})})]})}),e(g,{children:n.scadenze.map(a=>i(t,{children:[e(r,{children:a.data}),i(r,{children:[a.importo," €"]}),e(r,{align:"center",sx:{width:50},children:a.pagato?e(_,{color:j[500]}):e(G,{color:w[500]})})]},a.id))})]})]})})}),e(l,{mb:3,children:s.isEmpty(n.pagamenti)?e(h,{variant:"outlined",severity:"info",children:"Non ci sono pagamenti!"}):e(p,{children:i(l,{p:2,children:[e(m,{variant:"h6",gutterBottom:!0,children:"Riepilogo pagamenti"}),i(u,{children:[e(v,{children:i(t,{children:[e(r,{children:"Data"}),e(r,{children:"Importo"})]})}),e(g,{children:n.pagamenti.map(a=>i(t,{children:[e(r,{children:a.data}),i(r,{children:[a.importo," €"]})]},a.id))})]})]})})}),e(z,{handleEdit:()=>c(`/docfisc/fatture/modifica/${n.id}`),handleDelete:I,loading:D}),e(J,{open:!s.isEmpty(f),children:e(h,{severity:b?"error":"success",children:f})})]}))};export{ie as default};
