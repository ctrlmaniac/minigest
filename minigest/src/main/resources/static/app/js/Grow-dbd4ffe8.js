import{C as nt,D as et,X as O,b as F,R as _,r as b,j as it,_ as w}from"./index-6afb047b.js";import{_ as ot,m as H,u as rt}from"./hooks-2a0c6fe4.js";function Et(a){return a&&a.ownerDocument||document}function st(){return nt(et)}const j={disabled:!1};var at=function(l){return l.scrollTop},D="unmounted",x="exited",g="entering",N="entered",P="exiting",d=function(a){ot(l,a);function l(i,n){var t;t=a.call(this,i,n)||this;var e=n,o=e&&!e.isMounting?i.enter:i.appear,u;return t.appearStatus=null,i.in?o?(u=x,t.appearStatus=g):u=N:i.unmountOnExit||i.mountOnEnter?u=D:u=x,t.state={status:u},t.nextCallback=null,t}l.getDerivedStateFromProps=function(n,t){var e=n.in;return e&&t.status===D?{status:x}:null};var s=l.prototype;return s.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},s.componentDidUpdate=function(n){var t=null;if(n!==this.props){var e=this.state.status;this.props.in?e!==g&&e!==N&&(t=g):(e===g||e===N)&&(t=P)}this.updateStatus(!1,t)},s.componentWillUnmount=function(){this.cancelNextCallback()},s.getTimeouts=function(){var n=this.props.timeout,t,e,o;return t=e=o=n,n!=null&&typeof n!="number"&&(t=n.exit,e=n.enter,o=n.appear!==void 0?n.appear:e),{exit:t,enter:e,appear:o}},s.updateStatus=function(n,t){if(n===void 0&&(n=!1),t!==null)if(this.cancelNextCallback(),t===g){if(this.props.unmountOnExit||this.props.mountOnEnter){var e=this.props.nodeRef?this.props.nodeRef.current:O.findDOMNode(this);e&&at(e)}this.performEnter(n)}else this.performExit();else this.props.unmountOnExit&&this.state.status===x&&this.setState({status:D})},s.performEnter=function(n){var t=this,e=this.props.enter,o=this.context?this.context.isMounting:n,u=this.props.nodeRef?[o]:[O.findDOMNode(this),o],f=u[0],h=u[1],C=this.getTimeouts(),L=o?C.appear:C.enter;if(!n&&!e||j.disabled){this.safeSetState({status:N},function(){t.props.onEntered(f)});return}this.props.onEnter(f,h),this.safeSetState({status:g},function(){t.props.onEntering(f,h),t.onTransitionEnd(L,function(){t.safeSetState({status:N},function(){t.props.onEntered(f,h)})})})},s.performExit=function(){var n=this,t=this.props.exit,e=this.getTimeouts(),o=this.props.nodeRef?void 0:O.findDOMNode(this);if(!t||j.disabled){this.safeSetState({status:x},function(){n.props.onExited(o)});return}this.props.onExit(o),this.safeSetState({status:P},function(){n.props.onExiting(o),n.onTransitionEnd(e.exit,function(){n.safeSetState({status:x},function(){n.props.onExited(o)})})})},s.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},s.safeSetState=function(n,t){t=this.setNextCallback(t),this.setState(n,t)},s.setNextCallback=function(n){var t=this,e=!0;return this.nextCallback=function(o){e&&(e=!1,t.nextCallback=null,n(o))},this.nextCallback.cancel=function(){e=!1},this.nextCallback},s.onTransitionEnd=function(n,t){this.setNextCallback(t);var e=this.props.nodeRef?this.props.nodeRef.current:O.findDOMNode(this),o=n==null&&!this.props.addEndListener;if(!e||o){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[e,this.nextCallback],f=u[0],h=u[1];this.props.addEndListener(f,h)}n!=null&&setTimeout(this.nextCallback,n)},s.render=function(){var n=this.state.status;if(n===D)return null;var t=this.props,e=t.children;t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef;var o=F(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return _.createElement(H.Provider,{value:null},typeof e=="function"?e(n,o):_.cloneElement(_.Children.only(e),o))},l}(_.Component);d.contextType=H;d.propTypes={};function S(){}d.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:S,onEntering:S,onEntered:S,onExit:S,onExiting:S,onExited:S};d.UNMOUNTED=D;d.EXITED=x;d.ENTERING=g;d.ENTERED=N;d.EXITING=P;const ut=d,lt=a=>a.scrollTop;function A(a,l){var s,i;const{timeout:n,easing:t,style:e={}}=a;return{duration:(s=e.transitionDuration)!=null?s:typeof n=="number"?n:n[l.mode]||0,easing:(i=e.transitionTimingFunction)!=null?i:typeof t=="object"?t[l.mode]:t,delay:e.transitionDelay}}const ct=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function U(a){return`scale(${a}, ${a**2})`}const dt={entering:{opacity:1,transform:U(1)},entered:{opacity:1,transform:"none"}},I=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),X=b.forwardRef(function(l,s){const{addEndListener:i,appear:n=!0,children:t,easing:e,in:o,onEnter:u,onEntered:f,onEntering:h,onExit:C,onExited:L,onExiting:W,style:G,timeout:m="auto",TransitionComponent:z=ut}=l,K=F(l,ct),$=b.useRef(),M=b.useRef(),v=st(),R=b.useRef(null),q=rt(R,t.ref,s),T=r=>p=>{if(r){const E=R.current;p===void 0?r(E):r(E,p)}},B=T(h),J=T((r,p)=>{lt(r);const{duration:E,delay:k,easing:c}=A({style:G,timeout:m,easing:e},{mode:"enter"});let y;m==="auto"?(y=v.transitions.getAutoHeightDuration(r.clientHeight),M.current=y):y=E,r.style.transition=[v.transitions.create("opacity",{duration:y,delay:k}),v.transitions.create("transform",{duration:I?y:y*.666,delay:k,easing:c})].join(","),u&&u(r,p)}),Q=T(f),V=T(W),Y=T(r=>{const{duration:p,delay:E,easing:k}=A({style:G,timeout:m,easing:e},{mode:"exit"});let c;m==="auto"?(c=v.transitions.getAutoHeightDuration(r.clientHeight),M.current=c):c=p,r.style.transition=[v.transitions.create("opacity",{duration:c,delay:E}),v.transitions.create("transform",{duration:I?c:c*.666,delay:I?E:E||c*.333,easing:k})].join(","),r.style.opacity=0,r.style.transform=U(.75),C&&C(r)}),Z=T(L),tt=r=>{m==="auto"&&($.current=setTimeout(r,M.current||0)),i&&i(R.current,r)};return b.useEffect(()=>()=>{clearTimeout($.current)},[]),it(z,w({appear:n,in:o,nodeRef:R,onEnter:J,onEntered:Q,onEntering:B,onExit:Y,onExited:Z,onExiting:V,addEndListener:tt,timeout:m==="auto"?null:m},K,{children:(r,p)=>b.cloneElement(t,w({style:w({opacity:0,transform:U(.75),visibility:r==="exited"&&!o?"hidden":void 0},dt[r],G,t.props.style),ref:q},p))}))});X.muiSupportAuto=!0;const ht=X;export{ht as G,ut as T,A as g,Et as o,lt as r,st as u};
