import{b3 as F,b4 as x,b5 as B,ao as R,i as A,R as C,l as s,j as e,B as S,V as E,d as i,F as N,b1 as w,b2 as z,ap as j,b6 as P}from"./index-f3e0e4f0.js";import{g as $}from"./get-7f0bb334.js";import{f as k,e as q,B as l,T as m,P as p}from"./hooks-0ad2b324.js";import{a as V,E as H}from"./index-88ad5ff9.js";import{A as h}from"./Alert-1b6a4d3c.js";import{T as u,c as g,a as t,b as r}from"./TableRow-df788df1.js";import{T as v}from"./TableHead-c5715b5b.js";import{I as U,a as G,b as J}from"./IconInfoCircle-b4e74a5b.js";import{S as K}from"./Snackbar-4465bc7c.js";import"./createReactComponent-7b4787c7.js";import"./Grow-0dd1875c.js";function L(c){return async d=>{d(F()),V.delete(`${H.FATTURE}/${c}`).then(o=>{d(x(o.data))}).catch(o=>{let n="Errore";o.response?n=o.response.data:n="Errore",d(B(n))})}}const ne=()=>{const{id:c}=R(),d=k(),o=A(),{dettagli:n,getting:y,getError:T,response:f,removing:D,removeError:b}=q(a=>a.fatture);C.useEffect(()=>{s.isEmpty(c)||d($(c))},[c]);const I=()=>{d(L(c)),setTimeout(()=>{P(),b||o(-1)},1e3)};return y?e(S,{}):T?e(E,{message:f||"Fattura non trovata"}):s.isEmpty(n)?e(E,{message:"Fattura non trovata"}):(console.log(n),i(N,{children:[e(l,{mb:3,children:e(m,{variant:"h3",children:"Dettagli Fattura"})}),e(l,{mb:3,children:e(h,{variant:"outlined",severity:n.evasa?"success":"error",children:n.evasa?"Fattura pagata":"Fattura da pagare"})}),e(l,{mb:3,children:e(p,{children:e(l,{p:2,children:e(u,{children:i(g,{children:[i(t,{children:[e(r,{sx:{width:50},children:n.tipoDocumento.codice}),e(r,{children:n.tipoDocumento.descrizione})]}),i(t,{children:[e(r,{children:"Cedente"}),e(r,{children:n.cedente.denominazione})]}),i(t,{children:[e(r,{children:"Committente"}),e(r,{children:n.committente.denominazione})]}),i(t,{children:[e(r,{children:"Data"}),e(r,{children:n.data})]}),i(t,{children:[e(r,{children:"Data SDI"}),e(r,{children:n.dataSDI})]}),i(t,{children:[e(r,{children:"Numero"}),e(r,{children:n.numero})]}),i(t,{children:[e(r,{children:"Totale"}),i(r,{children:["€ ",n.totale]})]})]})})})})}),e(l,{mb:3,children:s.isEmpty(n.reparti)?e(h,{variant:"outlined",severity:"error",children:"Non ci sono reparti!"}):e(p,{children:i(l,{p:2,children:[e(m,{variant:"h6",gutterBottom:!0,children:"Riepilogo reparti"}),i(u,{children:[e(v,{children:i(t,{children:[e(r,{children:"Aliquota"}),e(r,{children:"Imponibile"}),e(r,{children:"Imposta"})]})}),e(g,{children:n.reparti.map(a=>i(t,{children:[i(r,{children:[a.aliquota," %"]}),i(r,{children:[a.imponibile," €"]}),i(r,{children:[a.imposta," €"]})]},a.id))})]})]})})}),e(l,{mb:3,children:s.isEmpty(n.scadenze)?e(h,{variant:"outlined",severity:"info",children:"Non ci sono scadenze!"}):e(p,{children:i(l,{p:2,children:[e(m,{variant:"h6",gutterBottom:!0,children:"Riepilogo scadenze"}),i(u,{children:[e(v,{children:i(t,{children:[e(r,{children:"Data"}),e(r,{children:"Importo"}),e(r,{align:"center",sx:{width:50},children:e(U,{})})]})}),e(g,{children:n.scadenze.map(a=>i(t,{children:[e(r,{children:a.data}),i(r,{children:[a.importo," €"]}),e(r,{align:"center",sx:{width:50},children:a.pagato?e(G,{color:w[500]}):e(J,{color:z[500]})})]},a.id))})]})]})})}),e(l,{mb:3,children:s.isEmpty(n.pagamenti)?e(h,{variant:"outlined",severity:"info",children:"Non ci sono pagamenti!"}):e(p,{children:i(l,{p:2,children:[e(m,{variant:"h6",gutterBottom:!0,children:"Riepilogo pagamenti"}),i(u,{children:[e(v,{children:i(t,{children:[e(r,{children:"Data"}),e(r,{children:"Importo"})]})}),e(g,{children:n.pagamenti.map(a=>i(t,{children:[e(r,{children:a.data}),i(r,{children:[a.importo," €"]})]},a.id))})]})]})})}),e(j,{handleEdit:()=>o(`/docfisc/fatture/modifica/${n.id}`),handleDelete:I,loading:D}),e(K,{open:!s.isEmpty(f),children:e(h,{severity:b?"error":"success",children:f})})]}))};export{ne as default};
