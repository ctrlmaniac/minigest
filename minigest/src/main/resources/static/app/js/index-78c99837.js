import{bq as C,br as E,bs as S,i as D,R as h,d as s,F as A,j as e,l as P,af as $}from"./index-4508a384.js";import{f as j,e as B,B as l,T as k,P as x}from"./hooks-feb29949.js";import{a as z,E as R,I as F}from"./index-638748d8.js";import{G as u}from"./Grid-b984e7a0.js";import{T}from"./TextField-0bc7661e.js";import{L as Y}from"./LinearProgress-29fadb87.js";import{A as q}from"./Alert-79195361.js";import{T as G,a as y,b as r,c as L}from"./TableRow-89215d33.js";import{T as M}from"./TableHead-4c925618.js";import{I as v}from"./IconFile-bb82f1a6.js";import{I}from"./IconPencil-042a6c5b.js";import"./Grow-e4ee19b9.js";import"./useFormControl-3c13f0cf.js";import"./createReactComponent-3ef021e5.js";function N(d){return async t=>{t(C()),z.get(`${R.FISCO}/f24?${d}`).then(a=>{t(E(a.data))}).catch(a=>{let o="Errore";a.response?o=a.response.data:o="Errore",t(S(o))})}}const re=()=>{const d=j(),t=D(),{list:a,listing:o}=B(n=>n.f24),[i,w]=h.useState({anno:new Date().getFullYear(),mese:new Date().getMonth()+1}),[c,f]=h.useState({anno:!1,mese:!1}),g=n=>{const{name:p,value:b}=n.target;w({...i,[p]:b});const m=parseInt(b);p==="anno"&&f({...c,anno:m<1970||m>new Date().getFullYear()}),p==="mese"&&f({...c,mese:m<1||m>12})};return h.useEffect(()=>{const n=`&anno=${i.anno}&mese=${i.mese}`;d(N(n))},[i]),s(A,{children:[e(l,{mb:3,children:e(k,{variant:"h3",children:"F24"})}),e(l,{mb:3,children:e(x,{children:s(l,{p:2,children:[s(u,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",spacing:2,children:[e(u,{item:!0,xs:12,sm:6,children:e(T,{label:"Anno",name:"anno",value:i.anno,error:c.anno,onChange:g,type:"number",inputProps:{step:1,min:1970,max:new Date().getFullYear()},fullWidth:!0})}),e(u,{item:!0,xs:12,sm:6,children:e(T,{label:"Mese",name:"mese",value:i.mese,error:c.mese,onChange:g,type:"number",inputProps:{step:1,min:1,max:12},fullWidth:!0})})]}),o&&e(Y,{})]})})}),P.isEmpty(a)?e(q,{severity:"info",variant:"outlined",children:"Non ci sono F24 nel periodo da te selezionato"}):e(l,{children:e(x,{children:e(l,{p:2,children:s(G,{children:[e(M,{children:s(y,{children:[e(r,{children:"Data Scadenza"}),e(r,{children:"Totale"}),e(r,{sx:{width:50},align:"center",children:e(v,{})}),e(r,{sx:{width:50},align:"center",children:e(I,{})})]})}),e(L,{children:a==null?void 0:a.map(n=>s(y,{children:[e(r,{children:n.dataScadenza}),s(r,{children:["â‚¬ ",n.totale]}),e(r,{align:"center",children:e(F,{color:"primary",onClick:()=>t(`/fisco/f24/dettagli/${n.id}`),children:e(v,{})})}),e(r,{align:"center",children:e(F,{color:"warning",onClick:()=>t(`/fisco/f24/modifica/${n.id}`),children:e(I,{})})})]},n.id))})]})})})}),e($,{onClick:()=>t("/fisco/f24/aggiungi")})]})};export{re as default};
