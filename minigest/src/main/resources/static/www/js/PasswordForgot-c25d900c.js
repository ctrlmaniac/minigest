import{a1 as y,a2 as E,a3 as S,R as n,a as e,F as T,j as u}from"./index-d9075882.js";import{a as b}from"./exists-7d8a17c3.js";import{a as k,E as B,u as w,b as A,T as C}from"./index-0b6f6c0e.js";import{C as F}from"./Container-e57c070b.js";import{P as R,A as l}from"./Alert-34d97dd7.js";import{B as h}from"./Box-2c01ad1c.js";import{T as f}from"./Typography-0244ac9d.js";import{B as P}from"./Button-de222707.js";import{L as j}from"./LinearProgress-b3dd8472.js";import"./ButtonBase-a1aa1359.js";function U(i){return async t=>{t(y()),k.post(`${B.AUTH}/password/forgot`,i).then(s=>{t(E(s.data))}).catch(s=>{let r="Errore";s.response?r=s.response.data:r="Errore",t(S(r))})}}const K=()=>{const i=w(),{exists:t,issuing:s,issueError:r,issueRespose:c}=A(o=>o.account),[a,g]=n.useState(""),[m,v]=n.useState(!0);n.useEffect(()=>{i(b(a))},[a]);const x=o=>{const{value:d}=o.target;g(d),v(d.toString().length<1)},p=o=>{o.preventDefault(),i(U({email:a}))};return e(T,{children:u(F,{maxWidth:"xs",children:[e(R,{children:u(h,{p:2,children:[e(f,{variant:"h6",gutterBottom:!0,children:"Resetta la tua password!"}),e(f,{gutterBottom:!0,children:"Inserisci la tua email, ti verrÃ  inviato un link al quale potrai reimpostare la tua password!"}),u("form",{method:"post",onSubmit:p,children:[e(C,{fullWidth:!0,label:"email",type:"email",value:a,error:m,onChange:x,required:!0,margin:"normal",focused:!0}),a.toString().length>1&&e(h,{my:1,children:e(l,{severity:t?"success":"error",children:t?"Utente esistente!":"Utente non esistente!"})}),e(P,{fullWidth:!0,type:"submit",onClick:p,variant:"contained",disabled:m||!t,children:"Resetta password"})]})]})}),s&&e(j,{}),r&&e(l,{severity:"error",children:r}),c&&e(l,{severity:"success",children:c})]})})};export{K as default};
