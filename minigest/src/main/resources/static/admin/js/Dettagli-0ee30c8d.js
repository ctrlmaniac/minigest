import{ac as B,ad as C,ae as P,af as w,f as L,a1 as V,R as $,E as d,j as r,a2 as j,a3 as k,e as s,F as N,ag as O,ah as H}from"./index-8eaaa921.js";import{a as Q,E as U,u as Z,b as q,A as x}from"./hooks-ee0b5995.js";import{g as G}from"./get-3064e7e5.js";import{B as t,T as I}from"./Box-09e48a02.js";import{P as h,b as J}from"./List-d4d3ded6.js";import{T as m,a as p,b as a,c as i}from"./TableRow-d685add3.js";import{L as K,a as M}from"./ListItemText-5a4e42e9.js";import{S as W}from"./Snackbar-9450f231.js";function X(l){return async n=>{n(B()),Q.delete(`${U.AZIENDE}/${l}`).then(o=>{n(C(o.data)),n(P(l))}).catch(o=>{let e="Errore";o.response?e=o.response.data:e="Errore",n(w(e))})}}const te=()=>{var g,E,v,y,b,A,T;const l=L(),n=Z(),{id:o}=V(),{dettagli:e,getting:F,getError:u,removing:D,removeError:R,removeResponse:f}=q(c=>c.aziende);$.useEffect(()=>{d.isEmpty(o)||n(G(o))},[o]);const S=()=>{n(X(o)),setTimeout(()=>{n(H()),l("/aziende")},2e3)};return F?r(j,{}):!d.isEmpty(u)||d.isEmpty(e)?r(k,{message:u||"Errore di caricamento"}):s(N,{children:[r(t,{mb:3,children:r(I,{variant:"h3",children:"Dettagli Azienda"})}),r(t,{mb:3,children:r(h,{children:r(t,{p:2,children:r(m,{children:s(p,{children:[s(a,{children:[r(i,{children:"Titolo"}),r(i,{children:(e==null?void 0:e.titolo)||"non fornito"})]}),s(a,{children:[r(i,{sx:{width:150},children:"Denominazione"}),r(i,{children:e==null?void 0:e.denominazione})]})]})})})})}),r(t,{mb:3,children:r(h,{children:r(t,{p:2,children:r(m,{children:s(p,{children:[s(a,{children:[r(i,{sx:{width:150},children:"Codice EORI"}),r(i,{children:(e==null?void 0:e.codiceEORI)||"non fornito"})]}),s(a,{children:[r(i,{children:"Codice Fiscale"}),r(i,{children:e==null?void 0:e.codiceFiscale})]}),s(a,{children:[r(i,{children:"Partita IVA"}),r(i,{children:(e==null?void 0:e.idFiscaleIVAPaese)+" "+(e==null?void 0:e.idFiscaleIVACodice)})]})]})})})})}),r(t,{mb:3,children:r(h,{children:r(t,{p:2,children:r(m,{children:r(p,{children:s(a,{children:[r(i,{sx:{width:150},children:"Sede"}),s(i,{children:[(g=e==null?void 0:e.sede)==null?void 0:g.indirizzo,", ",(E=e==null?void 0:e.sede)==null?void 0:E.numeroCivico,","," ",(v=e==null?void 0:e.sede)==null?void 0:v.cap," ",(y=e==null?void 0:e.sede)==null?void 0:y.comune," (",(b=e==null?void 0:e.sede)==null?void 0:b.provincia,") - ",(A=e==null?void 0:e.sede)==null?void 0:A.nazione]})]})})})})})}),r(t,{children:r(h,{children:s(t,{p:2,children:[r(I,{variant:"h6",gutterBottom:!0,children:"Utenti"}),d.isEmpty(e.utenti)?r(x,{severity:"info",variant:"outlined",children:"Questa azienda non ha utenti"}):r(J,{children:(T=e.utenti)==null?void 0:T.map(c=>r(K,{onClick:()=>l(`/account/dettagli/${c.id}`),children:r(M,{primary:c.nome+" "+c.cognome,secondary:c.email})},c.id))})]})})}),r(O,{handleEdit:()=>l(`/aziende/modifica/${o}`),handleDelete:S,loading:D}),r(W,{open:!d.isEmpty(f),autoHideDuration:500,children:r(x,{severity:R?"error":"success",children:f})})]})};export{te as default};
