import{ae as R,af as j,R as h,N as s,a as g,F as N,j as e,a8 as O}from"./index-f45c03a1.js";import{E as B}from"./ErrorScreen-23109fc3.js";import{L as M}from"./LoadingScreen-7795ebdd.js";import{g as $}from"./get-e5f17552.js";import{u as q,a as k}from"./hooks-71074923.js";import{S as w}from"./SaveFab-bde2bcc6.js";import{a as L,E as Z}from"./index-e540bbee.js";import{B as t,T as P}from"./Box-3112786e.js";import{P as C}from"./Paper-c542b63c.js";import{T as n}from"./TextField-2a8b6e79.js";import"./Splash-c0a4ca1f.js";import"./Container-b2c8bae1.js";import"./Alert-9ab8b305.js";import"./createSvgIcon-5f7bcaef.js";import"./ButtonBase-07c320ab.js";import"./Fab-8a5b0f7e.js";import"./createReactComponent-19830811.js";import"./Grow-46dd7ada.js";import"./useTheme-7ac3100d.js";import"./utils-856da27c.js";import"./Modal-6c34c1a4.js";import"./List-cc96011b.js";function G(a,c){return async i=>{L.put(`${Z.AZIENDE}/${a}`,c).then(o=>{R(),window.location.href="/app/aziende/dettagli/"+o.data.id}).catch(o=>{i(j(o.message))})}}const H=({dettagli:a})=>{var v,F,E,b,I,A,y,V,S,W;const c=q(),[i,o]=h.useState({...a}),[r,f]=h.useState({denominazione:s.isEmpty(a.denominazione),codiceFiscale:s.isEmpty(a.codiceFiscale),idFiscaleIVAPaese:s.isEmpty(a.idFiscaleIVAPaese),idFiscaleIVACodice:s.isEmpty(a.idFiscaleIVACodice),sede_indirizzo:s.isEmpty((v=a.sede)==null?void 0:v.indirizzo),sede_cap:s.isEmpty((F=a.sede)==null?void 0:F.cap),sede_comune:s.isEmpty((E=a.sede)==null?void 0:E.comune),sede_nazione:s.isEmpty((b=a.sede)==null?void 0:b.nazione)}),l=m=>{const{value:u,name:p,required:z}=m.target;o({...i,[p]:u}),z&&f({...r,[p]:u.length<1})},d=m=>{const{value:u,name:p,required:z}=m.target;if(o({...i,sede:{...i.sede,[p]:u}}),z){const T=`sede_${p}`;f({...r,[T]:u.length<1})}},[_,x]=h.useState(!0);h.useEffect(()=>{x(!Object.values(r).every(m=>m===!1))},[r]);const D=()=>{c(G(a.id,i))};return g(N,{children:[e(t,{mb:3,children:e(P,{variant:"h3",children:"Modifica Azienda"})}),e(t,{mb:3,children:e(C,{children:g(t,{p:2,children:[e(n,{label:"Titolo",name:"titolo",value:i.titolo,onChange:l,fullWidth:!0,margin:"normal"}),e(n,{label:"Denominazione, nome o cognome",name:"denominazione",value:i.denominazione,onChange:l,fullWidth:!0,margin:"normal",required:!0,error:r.denominazione})]})})}),e(t,{mb:3,children:e(C,{children:g(t,{p:2,children:[e(n,{label:"Codice EORI",name:"codiceEORI",value:i.codiceEORI,onChange:l,fullWidth:!0,margin:"normal"}),e(n,{label:"Codice Fiscale",name:"codiceFiscale",value:i.codiceFiscale,onChange:l,fullWidth:!0,margin:"normal",required:!0,error:r.codiceFiscale}),e(n,{label:"ID Fiscale IVA Paese",name:"idFiscaleIVAPaese",value:i.idFiscaleIVAPaese,onChange:l,fullWidth:!0,margin:"normal",error:r.idFiscaleIVAPaese,required:!0}),e(n,{label:"ID Fiscale IVA Codice",name:"idFiscaleIVACodice",value:i.idFiscaleIVACodice,onChange:l,fullWidth:!0,margin:"normal",error:r.idFiscaleIVACodice,required:!0})]})})}),e(t,{children:e(C,{children:g(t,{p:2,children:[e(P,{variant:"h6",gutterBottom:!0,children:"Sede:"}),e(n,{label:"Indirizzo",name:"indirizzo",value:(I=i.sede)==null?void 0:I.indirizzo,onChange:d,fullWidth:!0,margin:"normal",error:r.sede_indirizzo,required:!0}),e(n,{label:"Num. Civico",name:"numeroCivico",value:(A=i.sede)==null?void 0:A.numeroCivico,onChange:d,fullWidth:!0,margin:"normal"}),e(n,{label:"CAP",name:"cap",value:(y=i.sede)==null?void 0:y.cap,onChange:d,fullWidth:!0,margin:"normal",required:!0,error:r.sede_cap}),e(n,{label:"Comune",name:"comune",value:(V=i.sede)==null?void 0:V.comune,onChange:d,fullWidth:!0,margin:"normal",required:!0,error:r.sede_comune}),e(n,{label:"Provincia",name:"provincia",value:(S=i.sede)==null?void 0:S.provincia,onChange:d,fullWidth:!0,margin:"normal"}),e(n,{label:"Nazione",name:"nazione",value:(W=i.sede)==null?void 0:W.nazione,onChange:d,fullWidth:!0,margin:"normal",helperText:"Es. IT",required:!0,error:r.sede_nazione})]})})}),e(w,{handleClick:D,disabled:_})]})},ge=()=>{const{id:a}=O(),c=q(),{dettagli:i,getting:o,getError:r}=k(f=>f.aziende);return h.useEffect(()=>{a&&c($(a))},[a]),o?e(M,{}):r?e(B,{message:r}):e(H,{dettagli:i})};export{ge as default};
