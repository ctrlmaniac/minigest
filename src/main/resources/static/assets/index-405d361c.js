import{ap as E,aq as b,R as i,a as v,F,j as e,B as p,a7 as x,P as z}from"./index-10c94bff.js";import{E as N}from"./ErrorScreen-5eddfcdb.js";import{g as j}from"./get-5ee4da59.js";import{u,a as y}from"./hooks-9397b445.js";import{S as P}from"./SaveFab-de76f147.js";import{a as T,E as q}from"./index-e540bbee.js";import{T as C}from"./Typography-95a1612a.js";import{P as D}from"./Paper-46a58f5a.js";import{T as M}from"./TextField-eb3a3c5b.js";import"./Container-bd6f4fdc.js";import"./Alert-19648b22.js";import"./createSvgIcon-46abf9a7.js";import"./ButtonBase-6e0e1411.js";import"./Fab-f0961ac3.js";import"./createReactComponent-ad886392.js";import"./Grow-0fe9c25b.js";import"./useTheme-75ea811f.js";import"./utils-b32b3a94.js";import"./Modal-2991f9ad.js";import"./List-b82d4e7d.js";function $(t,s){return async r=>{T.put(`${q.NEGOZI}/${t}`,s).then(a=>{r(E()),window.location.href=`/app/negozi/dettagli/${a.data.id}`}).catch(a=>{r(b(a.message))})}}const w=({dettagli:t})=>{const s=u(),[r,a]=i.useState({...t}),[o,n]=i.useState({nome:!1}),d=m=>{const{name:c,value:l,required:S}=m.target;a({...r,[c]:l}),S&&n({...o,[c]:l.length<1})},[f,g]=i.useState(!0);i.useEffect(()=>{g(!Object.values(o).every(m=>m===!1))},[o]);const h=()=>{s($(t.id,r))};return v(F,{children:[e(p,{mb:3,children:e(C,{variant:"h3",children:"Modifica Negozio"})}),e(p,{children:e(D,{children:e(p,{p:2,children:e(M,{label:"Nome",name:"nome",value:r.nome,error:o.nome,required:!0,fullWidth:!0,onChange:d})})})}),e(P,{disabled:f,handleClick:h})]})},te=()=>{const{id:t}=x(),s=u(),{dettagli:r,getting:a,getError:o}=y(n=>n.negozi);return i.useEffect(()=>{t&&s(j(t))},[t]),a?e(z,{}):o?e(N,{message:o}):e(w,{dettagli:r})};export{te as default};
