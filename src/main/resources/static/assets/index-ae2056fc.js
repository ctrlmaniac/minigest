import{aL as E,aM as I,D as v,a as n,F as S,j as r,B as c,aN as b,L as A,a7 as C,R as y,P as F}from"./index-735c612a.js";import{E as B}from"./ErrorScreen-2e4fe3de.js";import{g as P}from"./get-46e60db3.js";import{u as x,a as $}from"./hooks-534afcf2.js";import{a as z,E as L}from"./index-e540bbee.js";import{T as m}from"./Typography-d0b266ea.js";import{G as t}from"./Grid-369f5637.js";import{P as p}from"./Paper-b7d15f06.js";import{T as l,a,b as i,c as d}from"./TableRow-cbc80ead.js";import{T as u}from"./TableHead-ba26c009.js";import{A as R}from"./Alert-8bad4c57.js";import{C as j}from"./Container-4ca008ff.js";import{S as N,I as k,a as T,b as w}from"./IconSettings-3f7c2329.js";import{I as q}from"./IconTrash-b9e1487b.js";import"./useTheme-8b37b6ae.js";import"./createSvgIcon-d57f16a2.js";import"./ButtonBase-bb9f26cb.js";import"./Fab-f02a2efb.js";import"./Grow-95129489.js";import"./utils-eb60bee6.js";import"./Popper-e56aa9de.js";import"./createReactComponent-f20aa3c3.js";function G(e){return async s=>{z.delete(`${L.FATTURE}/${e}`).then(h=>{s(E())}).catch(h=>{s(I(h.message))})}}const H=({dettagli:e})=>{const s=x(),h=v(),f=()=>{s(G(e.id)),h(-1)};return n(S,{children:[r(c,{mb:3,children:r(m,{variant:"h3",children:"Dettagli Fattura"})}),r(c,{mb:3,children:n(t,{container:!0,direction:"row",justifyContent:"space-around",alignItems:"center",spacing:2,children:[r(t,{item:!0,xs:12,sm:6,children:r(p,{children:n(c,{p:2,children:[r(m,{variant:"h6",gutterBottom:!0,children:"Cedente"}),r(b,{to:`/app/aziende/dettagli/${e==null?void 0:e.cedente.id}`,children:e==null?void 0:e.cedente.denominazione})]})})}),r(t,{item:!0,xs:12,sm:6,children:r(p,{children:n(c,{p:2,children:[r(m,{variant:"h6",gutterBottom:!0,children:"Committente"}),r(b,{to:`/app/aziende/dettagli/${e==null?void 0:e.committente.id}`,children:e==null?void 0:e.committente.denominazione})]})})}),r(t,{item:!0,xs:12,children:r(p,{children:r(c,{p:2,children:n(l,{children:[r(u,{children:n(a,{children:[r(i,{children:"Data"}),r(i,{children:"Numero"}),r(i,{children:"Totale Documento"})]})}),r(d,{children:n(a,{children:[r(i,{children:e==null?void 0:e.data}),r(i,{children:e==null?void 0:e.numero}),n(i,{children:["€ ",e==null?void 0:e.totale]})]})})]})})})})]})}),r(c,{mb:3,children:r(p,{children:n(c,{p:2,children:[r(m,{variant:"h6",children:"Reparti"}),n(l,{children:[r(u,{children:n(a,{children:[r(i,{children:"Aliquota"}),r(i,{children:"Imponibile"}),r(i,{children:"imposta"})]})}),r(d,{children:e==null?void 0:e.reparti.map(o=>n(a,{children:[n(i,{children:["% ",o.aliquota]}),n(i,{children:["€ ",o.imponibile]}),n(i,{children:["€ ",o.imposta]})]},o.id))})]})]})})}),r(c,{mb:3,children:r(p,{children:n(c,{p:2,children:[r(m,{variant:"h6",children:"Scadenze"}),n(l,{children:[r(u,{children:n(a,{children:[r(i,{children:"Data"}),r(i,{children:"Importo"})]})}),r(d,{children:e==null?void 0:e.scadenze.map(o=>n(a,{children:[r(i,{children:o.data}),n(i,{children:["€ ",o.importo]})]},o.id))})]})]})})}),r(c,{mb:3,children:r(p,{children:n(c,{p:2,children:[r(m,{variant:"h6",gutterBottom:!0,children:"Pagamenti"}),A.isEmpty(e.pagamenti)?r(R,{severity:"warning",children:"Non sono stati registrati pagamenti!"}):n(l,{children:[r(u,{children:n(a,{children:[r(i,{children:"Data"}),r(i,{children:"Importo"})]})}),r(d,{children:e==null?void 0:e.pagamenti.map(o=>n(a,{children:[r(i,{children:o.data}),n(i,{children:["€ ",o.importo]})]},o.id))})]})]})})}),r(c,{sx:{position:"fixed",bottom:16,right:16},children:r(j,{sx:{textAlign:"right"},children:n(N,{ariaLabel:"azioni su fatture",icon:r(k,{}),children:[r(T,{icon:r(w,{}),tooltipTitle:"modifica",onClick:()=>h(`/app/docfisc/fatture/modifica/${e==null?void 0:e.id}`)}),r(T,{icon:r(q,{}),tooltipTitle:"elimina",onClick:f})]})})})]})},mr=()=>{const{id:e}=C(),s=x();v();const{dettagli:h,getting:f,getError:o}=$(D=>D.fatture);return y.useEffect(()=>{e&&s(P(e))},[e]),f?r(F,{}):o?r(B,{message:o}):r(H,{dettagli:h})};export{mr as default};
