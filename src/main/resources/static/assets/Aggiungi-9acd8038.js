import{aj as v,ak as z,R as r,a as n,F as E,B as m,j as o}from"./index-10c94bff.js";import{S as j}from"./SaveFab-de76f147.js";import{a as x,E as A}from"./index-e540bbee.js";import{u as F,a as y}from"./hooks-9397b445.js";import{T as c}from"./Typography-95a1612a.js";import{P as T}from"./Paper-46a58f5a.js";import{T as B}from"./TextField-eb3a3c5b.js";import"./Container-bd6f4fdc.js";import"./Fab-f0961ac3.js";import"./ButtonBase-6e0e1411.js";import"./createReactComponent-ad886392.js";import"./Grow-0fe9c25b.js";import"./useTheme-75ea811f.js";import"./utils-b32b3a94.js";import"./Modal-2991f9ad.js";import"./List-b82d4e7d.js";import"./createSvgIcon-46abf9a7.js";function C(i){return async e=>{x.post(`${A.NEGOZI}`,i).then(t=>{e(v()),window.location.href="/app/negozi"}).catch(t=>{e(z(t.message))})}}const L=()=>{const i=F(),{selected:e}=y(a=>a.aziende),[t,p]=r.useState({azienda:e,nome:""}),[s,d]=r.useState({nome:!0});r.useEffect(()=>{p({...t,azienda:e})},[e]);const g=a=>{const{name:l,value:u,required:b}=a.target;p({...t,[l]:u}),b&&d({...s,[l]:u.length<1})},[h,f]=r.useState(!0);r.useEffect(()=>{f(!Object.values(s).every(a=>a===!1))},[s]);const S=()=>{i(C(t))};return n(E,{children:[n(m,{mb:3,children:[o(c,{variant:"h3",gutterBottom:!0,children:"Aggiungi Negozio"}),n(c,{children:["Attenzione! Si sta aggiungendo un negozio all'azienda"," ",e==null?void 0:e.denominazione]})]}),o(m,{children:o(T,{children:o(m,{p:2,children:o(B,{label:"nome",name:"nome",value:t.nome,error:s.nome,fullWidth:!0,required:!0,onChange:g})})})}),o(j,{handleClick:S,disabled:h})]})};export{L as default};
