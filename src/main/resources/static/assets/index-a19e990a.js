import{ar as E,as as b,R as i,a as v,F,j as e,B as p,a9 as x,P as z}from"./index-761b4989.js";import{E as N}from"./ErrorScreen-83758a8b.js";import{g as j}from"./get-57e9a0c5.js";import{u,a as y}from"./hooks-9000e4c8.js";import{S as P}from"./SaveFab-161b3a92.js";import{a as T,E as C}from"./index-30e337fd.js";import{T as D}from"./Typography-4033f764.js";import{P as M}from"./Paper-1026d494.js";import{T as $}from"./TextField-294b3173.js";import"./Container-e078e984.js";import"./Alert-caf42b59.js";import"./createSvgIcon-1320d625.js";import"./ButtonBase-242e16e9.js";import"./Fab-0c52d3ca.js";import"./createReactComponent-62a25815.js";import"./Grow-3595db16.js";import"./useTheme-167c9bfa.js";import"./utils-b42c4e0c.js";import"./Modal-c33af6cc.js";import"./List-ff5ffe2c.js";function q(t,s){return async r=>{T.put(`${C.NEGOZI}/${t}`,s).then(a=>{r(E()),window.location.href=`/app/negozi/dettagli/${a.data.id}`}).catch(a=>{r(b(a.message))})}}const w=({dettagli:t})=>{const s=u(),[r,a]=i.useState({...t}),[o,n]=i.useState({nome:!1}),d=m=>{const{name:c,value:l,required:S}=m.target;a({...r,[c]:l}),S&&n({...o,[c]:l.length<1})},[f,g]=i.useState(!0);i.useEffect(()=>{g(!Object.values(o).every(m=>m===!1))},[o]);const h=()=>{s(q(t.id,r))};return v(F,{children:[e(p,{mb:3,children:e(D,{variant:"h3",children:"Modifica Negozio"})}),e(p,{children:e(M,{children:e(p,{p:2,children:e($,{label:"Nome",name:"nome",value:r.nome,error:o.nome,required:!0,fullWidth:!0,onChange:d})})})}),e(P,{disabled:f,handleClick:h})]})},te=()=>{const{id:t}=x(),s=u(),{dettagli:r,getting:a,getError:o}=y(n=>n.negozi);return i.useEffect(()=>{t&&s(j(t))},[t]),a?e(z,{}):o?e(N,{message:o}):e(w,{dettagli:r})};export{te as default};
