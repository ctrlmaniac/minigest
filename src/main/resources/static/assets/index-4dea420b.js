import{ad as R,ae as j,R as h,L as s,a as g,F as O,j as e,B as l,a7 as B,P as M}from"./index-10c94bff.js";import{E as N}from"./ErrorScreen-5eddfcdb.js";import{g as $}from"./get-02eab582.js";import{u as q,a as k}from"./hooks-9397b445.js";import{S as w}from"./SaveFab-de76f147.js";import{a as L,E as Z}from"./index-e540bbee.js";import{T as W}from"./Typography-95a1612a.js";import{P as C}from"./Paper-46a58f5a.js";import{T as n}from"./TextField-eb3a3c5b.js";import"./Container-bd6f4fdc.js";import"./Alert-19648b22.js";import"./createSvgIcon-46abf9a7.js";import"./ButtonBase-6e0e1411.js";import"./Fab-f0961ac3.js";import"./createReactComponent-ad886392.js";import"./Grow-0fe9c25b.js";import"./useTheme-75ea811f.js";import"./utils-b32b3a94.js";import"./Modal-2991f9ad.js";import"./List-b82d4e7d.js";function G(a,c){return async i=>{L.put(`${Z.AZIENDE}/${a}`,c).then(o=>{R(),window.location.href="/app/aziende/dettagli/"+o.data.id}).catch(o=>{i(j(o.message))})}}const H=({dettagli:a})=>{var v,F,E,b,I,A,y,V,P,S;const c=q(),[i,o]=h.useState({...a}),[r,f]=h.useState({denominazione:s.isEmpty(a.denominazione),codiceFiscale:s.isEmpty(a.codiceFiscale),idFiscaleIVAPaese:s.isEmpty(a.idFiscaleIVAPaese),idFiscaleIVACodice:s.isEmpty(a.idFiscaleIVACodice),sede_indirizzo:s.isEmpty((v=a.sede)==null?void 0:v.indirizzo),sede_cap:s.isEmpty((F=a.sede)==null?void 0:F.cap),sede_comune:s.isEmpty((E=a.sede)==null?void 0:E.comune),sede_nazione:s.isEmpty((b=a.sede)==null?void 0:b.nazione)}),t=m=>{const{value:u,name:p,required:z}=m.target;o({...i,[p]:u}),z&&f({...r,[p]:u.length<1})},d=m=>{const{value:u,name:p,required:z}=m.target;if(o({...i,sede:{...i.sede,[p]:u}}),z){const T=`sede_${p}`;f({...r,[T]:u.length<1})}},[_,x]=h.useState(!0);h.useEffect(()=>{x(!Object.values(r).every(m=>m===!1))},[r]);const D=()=>{c(G(a.id,i))};return g(O,{children:[e(l,{mb:3,children:e(W,{variant:"h3",children:"Modifica Azienda"})}),e(l,{mb:3,children:e(C,{children:g(l,{p:2,children:[e(n,{label:"Titolo",name:"titolo",value:i.titolo,onChange:t,fullWidth:!0,margin:"normal"}),e(n,{label:"Denominazione, nome o cognome",name:"denominazione",value:i.denominazione,onChange:t,fullWidth:!0,margin:"normal",required:!0,error:r.denominazione})]})})}),e(l,{mb:3,children:e(C,{children:g(l,{p:2,children:[e(n,{label:"Codice EORI",name:"codiceEORI",value:i.codiceEORI,onChange:t,fullWidth:!0,margin:"normal"}),e(n,{label:"Codice Fiscale",name:"codiceFiscale",value:i.codiceFiscale,onChange:t,fullWidth:!0,margin:"normal",required:!0,error:r.codiceFiscale}),e(n,{label:"ID Fiscale IVA Paese",name:"idFiscaleIVAPaese",value:i.idFiscaleIVAPaese,onChange:t,fullWidth:!0,margin:"normal",error:r.idFiscaleIVAPaese,required:!0}),e(n,{label:"ID Fiscale IVA Codice",name:"idFiscaleIVACodice",value:i.idFiscaleIVACodice,onChange:t,fullWidth:!0,margin:"normal",error:r.idFiscaleIVACodice,required:!0})]})})}),e(l,{children:e(C,{children:g(l,{p:2,children:[e(W,{variant:"h6",gutterBottom:!0,children:"Sede:"}),e(n,{label:"Indirizzo",name:"indirizzo",value:(I=i.sede)==null?void 0:I.indirizzo,onChange:d,fullWidth:!0,margin:"normal",error:r.sede_indirizzo,required:!0}),e(n,{label:"Num. Civico",name:"numeroCivico",value:(A=i.sede)==null?void 0:A.numeroCivico,onChange:d,fullWidth:!0,margin:"normal"}),e(n,{label:"CAP",name:"cap",value:(y=i.sede)==null?void 0:y.cap,onChange:d,fullWidth:!0,margin:"normal",required:!0,error:r.sede_cap}),e(n,{label:"Comune",name:"comune",value:(V=i.sede)==null?void 0:V.comune,onChange:d,fullWidth:!0,margin:"normal",required:!0,error:r.sede_comune}),e(n,{label:"Provincia",name:"provincia",value:(P=i.sede)==null?void 0:P.provincia,onChange:d,fullWidth:!0,margin:"normal"}),e(n,{label:"Nazione",name:"nazione",value:(S=i.sede)==null?void 0:S.nazione,onChange:d,fullWidth:!0,margin:"normal",helperText:"Es. IT",required:!0,error:r.sede_nazione})]})})}),e(w,{handleClick:D,disabled:_})]})},he=()=>{const{id:a}=B(),c=q(),{dettagli:i,getting:o,getError:r}=k(f=>f.aziende);return h.useEffect(()=>{a&&c($(a))},[a]),o?e(M,{}):r?e(N,{message:r}):e(H,{dettagli:i})};export{he as default};
